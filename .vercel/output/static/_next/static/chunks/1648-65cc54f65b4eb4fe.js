"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1648],{73214:(e,a,t)=>{t.d(a,{A:()=>s});function s(e,a){var t;return null==e?void 0:null===(t=e[a])||void 0===t?void 0:t.join(", ")}},99058:(e,a,t)=>{t.d(a,{A:()=>p});var s=t(74848),r=t(96540),i=t(75414),l=t(2115),n=t(62539),o=t(38495),d=t(82309),u=t(49785),c=t(36865),h=t(73214),m=t(91826),g=t(4305);let v=e=>{let{data:a,onClose:t,onSuccess:i,setAlertVisible:l}=e,v=(0,c.A)(),[p,A]=(0,r.useState)(!1),b=(0,u.mN)({mode:"onTouched",defaultValues:{address:(null==a?void 0:a.address_hash)||"",tag:(null==a?void 0:a.name)||""}}),{mutateAsync:x}=(0,d.n)({mutationFn:e=>{let t={name:null==e?void 0:e.tag,address_hash:null==e?void 0:e.address};return(null==a?void 0:a.id)?v("private_tags_address",{pathParams:{id:String(a.id)},fetchParams:{method:"PUT",body:t}}):v("private_tags_address",{fetchParams:{method:"POST",body:t}})},onError:e=>{var a;A(!1);let t=null===(a=e.payload)||void 0===a?void 0:a.errors;(null==t?void 0:t.address_hash)||(null==t?void 0:t.name)?((null==t?void 0:t.address_hash)&&b.setError("address",{type:"custom",message:(0,h.A)(t,"address_hash")}),(null==t?void 0:t.name)&&b.setError("tag",{type:"custom",message:(0,h.A)(t,"name")})):(null==t?void 0:t.identity_id)?b.setError("address",{type:"custom",message:(0,h.A)(t,"identity_id")}):l(!0)},onSuccess:async()=>{await i(),t(),A(!1)}}),y=async e=>{l(!1),A(!0),await x(e)};return(0,s.jsx)(u.Op,{...b,children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:b.handleSubmit(y),children:[(0,s.jsx)(m.A,{name:"address",isRequired:!0,bgColor:"dialog_bg",mb:5}),(0,s.jsx)(g.A,{name:"tag",placeholder:"Private tag (max 35 characters)",isRequired:!0,rules:{maxLength:35},bgColor:"dialog_bg",mb:8}),(0,s.jsx)(n.az,{marginTop:8,children:(0,s.jsx)(o.$,{size:"lg",type:"submit",isDisabled:!b.formState.isDirty,isLoading:p,children:a?"Save changes":"Add tag"})})]})})},p=e=>{let{isOpen:a,onClose:t,onSuccess:n,data:o,pageType:d}=e,u=(null==o?void 0:o.id)?"Edit address tag":"New address tag",c=(null==o?void 0:o.id)?"":"Label any address with a private address tag (up to 35 chars) to customize your explorer experience.",[h,m]=(0,r.useState)(!1);r.useEffect(()=>{!a||(null==o?void 0:o.id)||i.$s(i.wf.PRIVATE_TAG,{Action:"Form opened","Page type":d,"Tag type":"Address"})},[null==o?void 0:o.id,a,d]);let g=r.useCallback(()=>((null==o?void 0:o.id)||i.$s(i.wf.PRIVATE_TAG,{Action:"Submit","Page type":d,"Tag type":"Address"}),n()),[null==o?void 0:o.id,n,d]),p=(0,r.useCallback)(()=>(0,s.jsx)(v,{data:o,onClose:t,onSuccess:g,setAlertVisible:m}),[o,t,g]);return(0,s.jsx)(l.A,{isOpen:a,onClose:t,title:u,text:c,renderForm:p,isAlertVisible:h,setAlertVisible:m})}},43912:(e,a,t)=>{t.d(a,{A:()=>x});var s=t(74848),r=t(96540),i=t(60827),l=t(75414),n=t(2115),o=t(62539),d=t(38495),u=t(97665),c=t(82309),h=t(49785),m=t(86554),g=t(36865),v=t(73214),p=t(4305);let A=/^0x[a-fA-F\d]{64}$/,b=e=>{let{data:a,onClose:t,onSuccess:i,setAlertVisible:l}=e,[n,b]=(0,r.useState)(!1),x=(0,h.mN)({mode:"onTouched",defaultValues:{transaction:(null==a?void 0:a.transaction_hash)||"",tag:(null==a?void 0:a.name)||""}}),y=(0,u.jE)(),_=(0,g.A)(),{mutateAsync:f}=(0,c.n)({mutationFn:e=>{let t={name:null==e?void 0:e.tag,transaction_hash:null==e?void 0:e.transaction};return(null==a?void 0:a.id)?_("private_tags_tx",{pathParams:{id:String(a.id)},fetchParams:{method:"PUT",body:t}}):_("private_tags_tx",{fetchParams:{method:"POST",body:t}})},onError:e=>{var a;b(!1);let t=null===(a=e.payload)||void 0===a?void 0:a.errors;(null==t?void 0:t.transaction_hash)||(null==t?void 0:t.name)?((null==t?void 0:t.transaction_hash)&&x.setError("transaction",{type:"custom",message:(0,v.A)(t,"transaction_hash")}),(null==t?void 0:t.name)&&x.setError("tag",{type:"custom",message:(0,v.A)(t,"name")})):(null==t?void 0:t.identity_id)?x.setError("transaction",{type:"custom",message:(0,v.A)(t,"identity_id")}):l(!0)},onSuccess:async()=>{await y.refetchQueries({queryKey:[(0,m.ik)("private_tags_tx")]}),await i(),t(),b(!1)}}),j=async e=>{b(!0),await f(e)};return(0,s.jsx)(h.Op,{...x,children:(0,s.jsxs)("form",{noValidate:!0,onSubmit:x.handleSubmit(j),children:[(0,s.jsx)(p.A,{name:"transaction",placeholder:"Transaction hash (0x...)",isRequired:!0,rules:{maxLength:66,pattern:A},bgColor:"dialog_bg",mb:5}),(0,s.jsx)(p.A,{name:"tag",placeholder:"Private tag (max 35 characters)",isRequired:!0,rules:{maxLength:35},bgColor:"dialog_bg",mb:8}),(0,s.jsx)(o.az,{marginTop:8,children:(0,s.jsx)(d.$,{size:"lg",type:"submit",isDisabled:!x.formState.isDirty,isLoading:n,children:a?"Save changes":"Add tag"})})]})})},x=e=>{let{isOpen:a,onClose:t,onSuccess:o,data:d}=e,u=d?"Edit transaction tag":"New transaction tag",c=d?"":"Label any transaction with a private transaction tag (up to 35 chars) to customize your explorer experience.",[h,m]=(0,r.useState)(!1);r.useEffect(()=>{!a||(null==d?void 0:d.id)||l.$s(l.wf.PRIVATE_TAG,{Action:"Form opened","Page type":i.o["/account/tag-address"],"Tag type":"Tx"})},[null==d?void 0:d.id,a]);let g=r.useCallback(async()=>{null==o||o(),(null==d?void 0:d.id)||l.$s(l.wf.PRIVATE_TAG,{Action:"Submit","Page type":i.o["/account/tag-address"],"Tag type":"Tx"})},[null==d?void 0:d.id,o]),v=(0,r.useCallback)(()=>(0,s.jsx)(b,{data:d,onClose:t,onSuccess:g,setAlertVisible:m}),[d,g,t]);return(0,s.jsx)(n.A,{isOpen:a,onClose:t,title:u,text:c,renderForm:v,isAlertVisible:h,setAlertVisible:m})}},2115:(e,a,t)=>{t.d(a,{A:()=>v});var s=t(74848),r=t(32816),i=t(696),l=t(65712),n=t(49632),o=t(21302),d=t(28287),u=t(62539),c=t(27821),h=t(96540),m=t(89783),g=t(41966);function v(e){let{isOpen:a,onClose:t,title:v,text:p,renderForm:A,isAlertVisible:b,setAlertVisible:x}=e,y=(0,h.useCallback)(()=>{x&&x(!1),t()},[t,x]),_=(0,m.A)();return(0,s.jsxs)(r.aF,{isOpen:a,onClose:y,size:_?"full":"md",children:[(0,s.jsx)(i.m,{}),(0,s.jsxs)(l.$,{children:[(0,s.jsx)(n.r,{fontWeight:"500",textStyle:"h3",children:v}),(0,s.jsx)(o.s,{}),(0,s.jsxs)(d.c,{children:[(b||p)&&(0,s.jsxs)(u.az,{marginBottom:{base:6,lg:8},children:[p&&(0,s.jsx)(c.E,{lineHeight:"30px",mb:3,children:p}),b&&(0,s.jsx)(g.A,{})]}),A()]})]})]})}},41966:(e,a,t)=>{t.d(a,{A:()=>l});var s=t(74848),r=t(85771),i=t(27107);t(96540);let l=()=>(0,s.jsx)(r.F,{status:"error",children:(0,s.jsx)(i.T,{children:"There has been an error processing your request"})})},28872:(e,a,t)=>{t.d(a,{A:()=>u});var s=t(74848),r=t(65269),i=t(42075),l=t(86715),n=t(96540),o=t(5462),d=t(51323);let u=n.memo((0,r.B)(e=>{let{tabs:a,tabListProps:t,rightSlot:r,rightSlotProps:u,leftSlot:c,leftSlotProps:h,stickyEnabled:m,className:g,onTabChange:v,isLoading:p,...A}=e,b=(0,l.useRouter)(),x=(0,d.A)(a),y=(0,n.useRef)(null),_=n.useCallback(e=>{let t=a[e],s=(0,i.f)(b.query,(e,a)=>b.pathname.includes("[".concat(a,"]"))),r=Array.isArray(t.id)?t.id[0]:t.id;b.push({pathname:b.pathname,query:{...s,tab:r}},void 0,{shallow:!0}),null==v||v(e)},[a,b,v]);return(0,n.useEffect)(()=>{if(b.query.scroll_to_tabs){var e;null==y||null===(e=y.current)||void 0===e||e.scrollIntoView(!0),delete b.query.scroll_to_tabs,b.push({pathname:b.pathname,query:b.query},void 0,{shallow:!0})}},[]),(0,s.jsx)(o.A,{tabs:a,tabListProps:t,leftSlot:c,leftSlotProps:h,rightSlot:r,rightSlotProps:u,stickyEnabled:m,onTabChange:_,defaultTabIndex:x,isLoading:p,...A})}))},51323:(e,a,t)=>{t.d(a,{A:()=>i});var s=t(86715),r=t(85665);function i(e){let a=(0,s.useRouter)(),t=(0,r.A)(a.query.tab);if(!t)return 0;let i=e.findIndex(e=>{let{id:a,subTabs:s}=e;return Array.isArray(a)?a.includes(t):a===t||(null==s?void 0:s.some(e=>e===t))});return i<0?0:i}}}]);
//# sourceMappingURL=1648-65cc54f65b4eb4fe.js.map