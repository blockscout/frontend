"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3763],{21455:(e,t,a)=>{a.d(t,{A:()=>r});function r(e){return e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}},55067:(e,t,a)=>{a.d(t,{BD:()=>l,W5:()=>i,Xd:()=>s,cP:()=>c,d3:()=>o,zF:()=>n});var r=a(11967);let n={creation_bytecode:"0x60806040526e",deployed_bytecode:"0x608060405233",is_self_destructed:!1},i={abi:[{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],additional_sources:[],can_be_visualized_via_sol2uml:!0,compiler_settings:{compilationTarget:{"contracts/StubContract.sol":"StubContract"},evmVersion:"london",libraries:{},metadata:{bytecodeHash:"ipfs"},optimizer:{enabled:!1,runs:200},remappings:[]},compiler_version:"v0.8.7+commit.e28d00a7",constructor_args:"0000000000000000000000005c7bcd6e7de5423a257d81b442095a1a6ced35c5000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",creation_bytecode:"0x6080604052348",deployed_bytecode:"0x60806040",evm_version:"london",external_libraries:[],file_path:"contracts/StubContract.sol",is_verified:!0,name:"StubContract",optimization_enabled:!1,optimization_runs:200,source_code:"source_code",verified_at:"2023-02-21T14:39:16.906760Z",license_type:"mit"},s={address:{...r.s,name:"StubContract"},coin_balance:"30319033612988277",compiler_version:"v0.8.17+commit.8df45f5f",has_constructor_args:!0,language:"solidity",market_cap:null,optimization_enabled:!1,transaction_count:565058,verified_at:"2023-04-10T13:16:33.884921Z",license_type:"mit"},o={smart_contracts:"123456789",new_smart_contracts_24h:"12345",verified_smart_contracts:"654321",new_verified_smart_contracts_24h:"1234"},l={scan_report:{contractname:"BullRunners",scan_status:"scan_done",scan_summary:{issue_severity_distribution:{critical:0,gas:1,high:0,informational:0,low:2,medium:0},score_v2:"72.22"},scanner_reference_url:"https://solidityscan.com/quickscan/0xc1EF7811FF2ebFB74F80ed7423f2AdAA37454be2/blockscout/eth-goerli?ref=blockscout"}},c={items:[{name:"sy.AccessManagement",address:r.W}]}},93017:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(74848),n=a(96540),i=a(28872);let s={columnGap:3},o=n.memo(e=>{let{tabs:t,isLoading:a,shouldRender:n}=e;return n?(0,r.jsx)(i.A,{tabs:t,variant:"outline",colorScheme:"gray",size:"sm",tabListProps:s,isLoading:a}):null})},6251:(e,t,a)=>{a.d(t,{A:()=>aq});var r=a(74848),n=a(86715),i=a(96540),s=a(24161),o=a(8753),l=a(85665),c=a(79408),d=a(55067),u=a(62539),m=a(97665),h=a(82460),p=a(88426),g=a(28872),x=a(11692),b=a(85771),f=a(65269),v=a(33855),y=a(25366),j=a(98669),_=a(46935),k=a(84213),C=a(38495);let w=i.memo(e=>{let{isLoading:t,addressHash:a,isPartiallyVerified:n}=e;return t?(0,r.jsx)(y.A,{w:"130px",h:8,mr:n?0:3,ml:n?0:"auto",borderRadius:"base",flexShrink:0}):(0,r.jsx)(C.$,{size:"sm",mr:n?0:3,ml:n?0:"auto",flexShrink:0,as:"a",href:(0,v.w)({pathname:"/address/[hash]/contract-verification",query:{hash:a}}),children:"Verify & publish"})}),A={eip1167:{name:"EIP-1167",link:"https://eips.ethereum.org/EIPS/eip-1167",description:"Minimal proxy"},eip1967:{name:"EIP-1967",link:"https://eips.ethereum.org/EIPS/eip-1967",description:"Proxy storage slots"},eip1822:{name:"EIP-1822",link:"https://eips.ethereum.org/EIPS/eip-1822",description:"Universal upgradeable proxy standard (UUPS)"},eip2535:{name:"EIP-2535",link:"https://eips.ethereum.org/EIPS/eip-2535",description:"Diamond proxy"},eip930:{name:"ERC-930",link:"https://github.com/ethereum/EIPs/issues/930",description:"Eternal storage"},clone_with_immutable_arguments:{name:"Clones with immutable arguments",link:"https://github.com/wighawag/clones-with-immutable-args"},master_copy:{name:"Safe proxy",link:"https://github.com/safe-global/safe-smart-account"},comptroller:{name:"Compound protocol proxy",link:"https://github.com/compound-finance/compound-protocol"},basic_implementation:{name:"public implementation() getter"},basic_get_implementation:{name:"public getImplementation() getter"},unknown:{name:"Unknown proxy pattern"}},S=i.memo(e=>{let{type:t}=e,a=A[t];return a&&"unknown"!==t?(0,r.jsx)(b.F,{status:"warning",flexWrap:"wrap",whiteSpace:"pre-wrap",children:a.link?(0,r.jsxs)(r.Fragment,{children:["This proxy smart-contract is detected via ",(0,r.jsx)(_.A,{href:a.link,children:a.name}),a.description&&" - ".concat(a.description)]}):(0,r.jsxs)(r.Fragment,{children:["This proxy smart-contract is detected via ",a.name,a.description&&" - ".concat(a.description)]})}):null}),z=i.memo(e=>{let{data:t}=e;return(null==t?void 0:t.is_verified_via_eth_bytecode_db)?(0,r.jsxs)(b.F,{status:"warning",whiteSpace:"pre-wrap",flexWrap:"wrap",children:[(0,r.jsxs)("span",{children:["This contract has been ",t.is_partially_verified?"partially ":"","verified using "]}),(0,r.jsx)(_.A,{href:"https://docs.blockscout.com/about/features/ethereum-bytecode-database-microservice",fontSize:"md",children:"Blockscout Bytecode Database"})]}):(null==t?void 0:t.is_verified_via_sourcify)?(0,r.jsxs)(b.F,{status:"warning",whiteSpace:"pre-wrap",flexWrap:"wrap",children:[(0,r.jsxs)("span",{children:["This contract has been ",t.is_partially_verified?"partially ":"","verified via Sourcify. "]}),t.sourcify_repo_url&&(0,r.jsx)(_.A,{href:t.sourcify_repo_url,fontSize:"md",children:"View contract in Sourcify repository"})]}):null}),L=i.memo(e=>{let{data:t,isLoading:a,addressHash:n,channel:s}=e,[o,l]=i.useState(),c=i.useCallback(()=>{l(!0)},[]);return(0,h.A)({channel:s,event:"changed_bytecode",handler:c}),(0,r.jsxs)(x.s,{flexDir:"column",rowGap:2,mb:6,_empty:{display:"none"},children:[(null==t?void 0:t.is_blueprint)&&(0,r.jsxs)(u.az,{children:[(0,r.jsx)("span",{children:"This is an "}),(0,r.jsx)(_.A,{href:"https://eips.ethereum.org/EIPS/eip-5202",children:"ERC-5202 Blueprint contract"})]}),(null==t?void 0:t.is_verified)&&(0,r.jsx)(y.A,{isLoaded:!a,children:(0,r.jsxs)(b.F,{status:"success",flexWrap:"wrap",rowGap:3,columnGap:5,children:[(0,r.jsxs)("span",{children:["Contract Source Code Verified (",t.is_partially_verified?"Partial":"Exact"," Match)"]}),t.is_partially_verified?(0,r.jsx)(w,{isLoading:a,addressHash:n,isPartiallyVerified:!0}):null]})}),(0,r.jsx)(z,{data:t}),((null==t?void 0:t.is_changed_bytecode)||o)&&(0,r.jsx)(b.F,{status:"warning",children:"Warning! Contract bytecode has been changed and does not match the verified one. Therefore, interaction with this smart contract may be risky."}),!(null==t?void 0:t.is_verified)&&(null==t?void 0:t.verified_twin_address_hash)&&(!(null==t?void 0:t.proxy_type)||"unknown"===t.proxy_type)&&(0,r.jsxs)(b.F,{status:"warning",whiteSpace:"pre-wrap",flexWrap:"wrap",children:[(0,r.jsx)("span",{children:"Contract is not verified. However, we found a verified contract with the same bytecode in Blockscout DB "}),(0,r.jsx)(j.Ay,{address:{hash:t.verified_twin_address_hash,filecoin:{robust:t.verified_twin_filecoin_robust_address},is_contract:!0},truncation:"constant",fontSize:"sm",fontWeight:"500"}),(0,r.jsx)(f.B.span,{mt:1,children:"All functions displayed below are from ABI of that contract. In order to verify current contract, proceed with "}),(0,r.jsx)(k.A,{href:(0,v.w)({pathname:"/address/[hash]/contract-verification",query:{hash:n}}),children:"Verify & Publish"}),(0,r.jsx)("span",{children:" page"})]}),(null==t?void 0:t.proxy_type)&&(0,r.jsx)(S,{type:t.proxy_type})]})});var B=a(30208),I=a(48996),N=a(78865),T=a(48706),M=a(78117);let D=i.memo((0,f.B)(e=>{let{className:t,label:a,href:n}=e,i=(0,I.dU)("gray.400","gray.500");return(0,r.jsx)(N.m,{label:a,children:(0,r.jsx)(T.K,{"aria-label":null!=a?a:"Open link",icon:(0,r.jsx)(M.A,{name:"open-link",boxSize:5}),w:"20px",h:"20px",color:i,variant:"simple",display:"inline-block",flexShrink:0,as:"a",href:n,target:"_blank",className:t,borderRadius:0})})}));var E=a(52477);let F=i.memo((0,f.B)(e=>{let{className:t,selectedItem:a,onItemSelect:n,items:s,isLoading:o,label:l}=e,c=i.useCallback(e=>{let t=s.find(t=>{let{address:a}=t;return a===e});t&&n(t)},[s,n]),d=i.useMemo(()=>s.map(e=>{let{address:t,name:a}=e;return{label:a||t,value:t}}),[s]);return o?(0,r.jsx)(y.A,{h:6,w:{base:"300px",lg:"500px"},className:t}):0===s.length?null:1===s.length?(0,r.jsxs)(x.s,{flexWrap:"wrap",columnGap:3,rowGap:2,className:t,children:[(0,r.jsx)(f.B.span,{fontWeight:500,fontSize:"sm",children:l}),(0,r.jsx)(j.Ay,{address:{hash:s[0].address,is_contract:!0,is_verified:!0}})]}):(0,r.jsxs)(x.s,{columnGap:3,rowGap:2,alignItems:"center",className:t,children:[(0,r.jsx)(f.B.span,{fontWeight:500,fontSize:"sm",children:l}),(0,r.jsx)(E.A,{options:d,name:"contract-source-address",defaultValue:a.address,onChange:c,isLoading:o,maxW:{base:"180px",lg:"none"},fontWeight:600}),(0,r.jsxs)(x.s,{columnGap:2,alignItems:"center",children:[(0,r.jsx)(B.A,{text:a.address,ml:0}),(0,r.jsx)(D,{label:"Open contract details page in new tab",href:(0,v.w)({pathname:"/address/[hash]",query:{hash:a.address,tab:"contract"}})})]})]})}));var O=a(3253),W=a(91563),R=a(73429),P=a(83239),q=a(66845),H=a(81171),G=a(73947),U=a(2115),V=a(50350),$=a(49785),K=a(36865),J=a(54393),Y=a(34991),Q=a(14158),Z=a(4305),X=a(8129);let ee=i.memo(e=>{let{address:t,onSuccess:a}=e,n=i.useRef(null),s=(0,K.A)(),o=(0,J.A)(),l=(0,$.mN)({mode:"onTouched",defaultValues:{is_project_owner:!1}}),{handleSubmit:c,formState:d,setError:u}=l,m=i.useCallback(async e=>{try{await s("contract_security_audits",{pathParams:{hash:t},fetchParams:{method:"POST",body:e}}),o({position:"top-right",title:"Success",description:"Your audit report has been successfully submitted for review",status:"success",variant:"subtle",isClosable:!0}),a()}catch(t){var r,n;let e=null==t?void 0:null===(r=t.payload)||void 0===r?void 0:r.errors;e&&Object.keys(e).length?Object.keys(e).forEach(t=>{u(t,{type:"custom",message:e[t].join(", ")})}):o({position:"top-right",title:"Error",description:(null==t?void 0:null===(n=t.payload)||void 0===n?void 0:n.message)||"Something went wrong. Try again later.",status:"error",variant:"subtle",isClosable:!0})}},[s,t,o,u,a]);return(0,r.jsx)($.Op,{...l,children:(0,r.jsxs)("form",{noValidate:!0,onSubmit:c(m),autoComplete:"off",ref:n,children:[(0,r.jsxs)(V.T,{gap:5,alignItems:"flex-start",children:[(0,r.jsx)(Z.A,{name:"submitter_name",isRequired:!0,placeholder:"Submitter name"}),(0,r.jsx)(Q.A,{name:"submitter_email",isRequired:!0,placeholder:"Submitter email"}),(0,r.jsx)(Y.A,{name:"is_project_owner",label:"I'm the contract owner"}),(0,r.jsx)(Z.A,{name:"project_name",isRequired:!0,placeholder:"Project name"}),(0,r.jsx)(X.A,{name:"project_url",isRequired:!0,placeholder:"Project URL"}),(0,r.jsx)(Z.A,{name:"audit_company_name",isRequired:!0,placeholder:"Audit company name"}),(0,r.jsx)(X.A,{name:"audit_report_url",isRequired:!0,placeholder:"Audit report URL"}),(0,r.jsx)(Z.A,{name:"audit_publish_date",type:"date",max:(0,R.A)().format("YYYY-MM-DD"),isRequired:!0,placeholder:"Audit publish date"}),(0,r.jsx)(Z.A,{name:"comment",placeholder:"Comment",maxH:"160px",rules:{maxLength:300},asComponent:"Textarea"})]}),(0,r.jsx)(C.$,{type:"submit",size:"lg",mt:8,isLoading:d.isSubmitting,loadingText:"Send request",isDisabled:!d.isDirty,children:"Send request"})]})})}),et=i.memo(e=>{let{addressHash:t}=e,{data:a,isPlaceholderData:n}=(0,o.A)("contract_security_audits",{pathParams:{hash:t},queryOptions:{refetchOnMount:!1,placeholderData:{items:[]},enabled:!!t}}),s=(0,H.j)(),l=i.useCallback(()=>(0,r.jsx)(ee,{address:t,onSuccess:s.onClose}),[t,s.onClose]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.$,{variant:"outline",size:"sm",onClick:s.onOpen,children:"Submit audit"}),(null==a?void 0:a.items)&&a.items.length>0&&(0,r.jsx)(u.az,{position:"relative",children:(0,r.jsx)(G.A,{gradientHeight:24,rowGap:1,w:"100%",maxH:"80px",mt:2,children:a.items.map(e=>(0,r.jsx)(_.A,{href:e.audit_report_url,isLoading:n,children:"".concat(e.audit_company_name,", ").concat((0,R.A)(e.audit_publish_date).format("MMM DD, YYYY"))},e.audit_company_name+e.audit_publish_date))})}),(0,r.jsx)(U.A,{isOpen:s.isOpen,onClose:s.onClose,title:"Submit audit",renderForm:l})]})});var ea=a(65602),er=a(33755);let en=i.memo((0,f.B)(e=>{let{label:t,content:a,className:n,isLoading:i,hint:s}=e,o=(0,I.dU)("gray.600","gray.400");return(0,r.jsxs)(ea.E,{display:"flex",columnGap:6,wordBreak:"break-all",className:n,alignItems:"baseline",children:[(0,r.jsx)(y.A,{isLoaded:!i,w:"170px",flexShrink:0,fontWeight:500,children:(0,r.jsxs)(x.s,{alignItems:"center",children:[t,s&&(0,r.jsx)(er.A,{label:s,ml:2,color:o,tooltipProps:{placement:"bottom"}})]})}),(0,r.jsx)(y.A,{isLoaded:!i,children:a})]})})),ei=s.A.features.rollup,es=i.memo(e=>{let{data:t,isLoading:a,addressHash:n}=e,i=t?(0,r.jsxs)(x.s,{alignItems:"center",children:[t.name,t.certified&&(0,r.jsx)(q.A,{iconSize:5,boxSize:5,ml:2})]}):null,o=(()=>{if(!(null==t?void 0:t.license_type))return null;let e=W.a.find(e=>e.type===t.license_type);return e&&"none"!==e.type?(0,r.jsx)(_.A,{href:e.url,children:e.label}):null})(),l=(()=>{var e,a;if(!(null===(e=t.github_repository_metadata)||void 0===e?void 0:e.repository_url)||!(null===(a=t.github_repository_metadata)||void 0===a?void 0:a.commit))return null;let{owner:n,repo:i}=(0,P.Mx)(t.github_repository_metadata.repository_url)||{},s=t.github_repository_metadata.repository_url,o=t.github_repository_metadata.commit,l=t.github_repository_metadata.path_prefix;return(0,r.jsx)(_.A,{href:"".concat(s,"/tree/").concat(o).concat(l?"/".concat(l):""),children:n&&i?"".concat(n,"/").concat(i):t.github_repository_metadata.repository_url})})(),c="stylus_rust"===t.language;return(0,r.jsxs)(O.x,{templateColumns:{base:"1fr",lg:"1fr 1fr"},rowGap:4,columnGap:6,mb:8,children:[t.name&&(0,r.jsx)(en,{label:"Contract name",content:i,isLoading:a}),t.compiler_version&&(0,r.jsx)(en,{label:"Compiler version",content:t.compiler_version,isLoading:a}),t.zk_compiler_version&&(0,r.jsx)(en,{label:"ZK compiler version",content:t.zk_compiler_version,isLoading:a}),t.evm_version&&(0,r.jsx)(en,{label:"EVM version",content:t.evm_version,textTransform:"capitalize",isLoading:a}),o&&(0,r.jsx)(en,{label:"License",content:o,hint:"License type is entered manually during verification. The initial source code may contain a different license type than the one displayed.",isLoading:a}),"boolean"==typeof t.optimization_enabled&&!c&&(0,r.jsx)(en,{label:"Optimization enabled",content:t.optimization_enabled?"true":"false",isLoading:a}),null!==t.optimization_runs&&!c&&(0,r.jsx)(en,{label:ei.isEnabled&&"zkSync"===ei.type?"Optimization mode":"Optimization runs",content:String(t.optimization_runs),isLoading:a}),t.package_name&&(0,r.jsx)(en,{label:"Package name",content:t.package_name,isLoading:a}),t.verified_at&&(0,r.jsx)(en,{label:"Verified at",content:(0,R.A)(t.verified_at).format("llll"),wordBreak:"break-word",isLoading:a}),t.file_path&&!c&&(0,r.jsx)(en,{label:"Contract file path",content:t.file_path,wordBreak:"break-word",isLoading:a}),l&&(0,r.jsx)(en,{label:"Source code",content:l,isLoading:a}),s.A.UI.hasContractAuditReports&&(0,r.jsx)(en,{label:"Security audit",content:(0,r.jsx)(et,{addressHash:n}),isLoading:a})]})});var eo=a(98579),el=a(77638),ec=a(82776),ed=a(19850),eu=a(89783),em=a(20894),eh=a(53338);let ep={base:"vs",inherit:!0,rules:[{token:"predefined",foreground:"#cd3131"}],colors:{"editor.background":"#f5f5f6","editorWidget.background":"#f5f5f6","tab.activeBackground":"#f5f5f6","tab.inactiveBackground":"rgb(236, 236, 236)","tab.activeForeground":"#101112","tab.inactiveForeground":"#4a5568","tab.border":"rgb(243, 243, 243)","icon.foreground":"#616161","input.foreground":"#616161","input.background":"#fff","list.inactiveSelectionBackground":"#e4e6f1","breadcrumbs.foreground":"rgb(97, 97, 97)","badge.background":"#c4c4c4","sideBar.background":"#eee",focusBorder:"#0090f1","custom.list.hoverBackground":"rgba(16, 17, 18, 0.08)","custom.findMatchHighlightBackground":"rgba(198, 246, 213, 1)","custom.inputOption.activeBackground":"rgba(0, 144, 241, 0.2)","custom.inputOption.hoverBackground":"rgba(184, 184, 184, 0.31)","custom.fileLink.hoverForeground":"#4299E1","custom.riskWarning.primaryBackground":"#FEEBCB","custom.riskWarning.background":"#FFFAF0","custom.mainContract.header":"rgba(233, 216, 253, 1)","custom.mainContract.body":"rgba(250, 245, 255, 1)"}},eg={base:"vs-dark",inherit:!0,rules:[{token:"predefined",foreground:"#f44747"}],colors:{"editor.background":"#1a1b1b","editorWidget.background":"#1a1b1b","tab.activeBackground":"#1a1b1b","tab.inactiveBackground":"rgb(45, 45, 45)","tab.activeForeground":"#fff","tab.inactiveForeground":"#a0aec0","tab.border":"rgb(37, 37, 38)","icon.foreground":"#616161","input.foreground":"#cccccc","input.background":"#3c3c3c","list.inactiveSelectionBackground":"#37373d","badge.background":"#4d4d4d","breadcrumbs.foreground":"rgb(97, 97, 97)","sideBar.background":"#222",focusBorder:"#007fd4","custom.list.hoverBackground":"rgba(255, 255, 255, 0.08)","custom.findMatchHighlightBackground":"rgba(34, 84, 61, 1)","custom.inputOption.activeBackground":"rgba(0, 127, 212, 0.4)","custom.inputOption.hoverBackground":"rgba(90, 93, 94, 0.31)","custom.fileLink.hoverForeground":"#4299E1","custom.riskWarning.primaryBackground":"rgba(246, 173, 85, 0.3)","custom.riskWarning.background":"rgba(246, 173, 85, 0.1)","custom.mainContract.header":"rgba(183, 148, 244, 0.3)","custom.mainContract.body":"rgba(214, 188, 250, 0.1)"}};function ex(){return(0,I.dU)(ep,eg).colors}let eb=i.memo(e=>{let{path:t}=e,a=(0,eh.A)(t).split("/"),n=ex();return(0,r.jsx)(x.s,{color:n["breadcrumbs.foreground"],bgColor:n["editor.background"],pl:"16px",pr:"8px",flexWrap:"wrap",fontSize:"13px",lineHeight:"22px",alignItems:"center",children:a.map((e,t)=>(0,r.jsxs)(i.Fragment,{children:[0!==t&&(0,r.jsx)(u.az,{className:"codicon codicon-breadcrumb-separator",boxSize:"16px",_before:{content:'"\\eab6"'}}),(0,r.jsx)(u.az,{children:e})]},t))})});var ef=a(43212);let ev=i.memo((0,f.B)(e=>{let{className:t}=e,a=ex();return(0,r.jsx)(el.o,{bgColor:a["editor.background"],w:"100%",h:"100%",overflow:"hidden",className:t,children:(0,r.jsx)(ef.A,{})})}));var ey=a(85164),ej=a(81445),e_=a(8049),ek=a(62319),eC=a(52867),ew=a(40607),eA=a(38720),eS=a(10600),ez=a(94480),eL=a(93633),eB=a(25687),eI=a(36928);let eN=i.memo((0,f.B)(e=>{let{className:t,fileName:a}=e,n=/.vy$/.test(a)?"monaco/vyper":/.sol|.yul$/.test(a)?"monaco/solidity":/.rs$/.test(a)?"monaco/rust":/^Cargo\./.test(a)?"monaco/cargo":/.toml$/.test(a)?"monaco/toml":"monaco/file";return(0,r.jsx)(M.A,{className:t,name:n,boxSize:"16px"})})),eT=(0,f.B)(e=>{let{className:t}=e;return(0,r.jsx)(N.m,{label:"The main file containing verified contract",children:(0,r.jsx)(u.az,{className:t,children:(0,r.jsx)(M.A,{name:"star_filled",boxSize:3,display:"block",color:"green.500"})})})}),eM=e=>{let{tree:t,level:a=0,onItemClick:n,isCollapsed:i,selectedFile:s,mainFile:o}=e,l={borderWidth:"0px",cursor:"pointer",lineHeight:"22px",_last:{borderBottomWidth:"0px"}},c=ex();return(0,r.jsx)(ez.n,{allowMultiple:!0,defaultIndex:i?void 0:t.map((e,t)=>t),reduceMotion:!0,children:t.map((e,t)=>{let d=(0,r.jsx)(f.B.span,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:e.name});return"children"in e?(0,r.jsx)(eL.A,{...l,children:t=>{let{isExpanded:l}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eB.J,{pr:"8px",py:"0",pl:"".concat(8+8*a,"px"),_hover:{bgColor:c["custom.list.hoverBackground"]},fontSize:"13px",lineHeight:"22px",h:"22px",transitionDuration:"0",children:[(0,r.jsx)(u.az,{className:"codicon codicon-tree-item-expanded",transform:l?"rotate(0deg)":"rotate(-90deg)",boxSize:"16px",mr:"2px"}),(0,r.jsx)(M.A,{name:l?"monaco/folder-open":"monaco/folder",boxSize:"16px",mr:"4px"}),d]}),(0,r.jsx)(eI.v,{p:"0",children:(0,r.jsx)(eM,{tree:e.children,level:a+1,onItemClick:n,isCollapsed:i,selectedFile:s,mainFile:o})})]})}},t):(0,r.jsxs)(eL.A,{...l,pl:"".concat(26+8*a,"px"),pr:"8px",onClick:n,"data-file-path":e.file_path,display:"flex",position:"relative",alignItems:"center",overflow:"hidden",_hover:{bgColor:s===e.file_path?c["list.inactiveSelectionBackground"]:c["custom.list.hoverBackground"]},bgColor:s===e.file_path?c["list.inactiveSelectionBackground"]:"none",children:[o===e.file_path&&(0,r.jsx)(eT,{position:"absolute",top:"".concat(5,"px"),left:"".concat(12+8*a,"px")}),(0,r.jsx)(eN,{fileName:e.name,mr:"4px"}),d]},t)})})},eD=i.memo(eM),eE=i.memo(e=>{let{onClick:t,label:a,isDisabled:n,isCollapsed:i}=e,s=ex();return(0,r.jsx)(u.az,{ml:"auto",alignSelf:"center",className:i?"codicon codicon-search-expand-results":"codicon codicon-collapse-all",opacity:n?.6:1,boxSize:"20px",p:"2px",borderRadius:"sm",_before:{content:i?'"\\eb95"':'"\\eac5"'},_hover:{bgColor:s["custom.inputOption.hoverBackground"]},onClick:t,cursor:"pointer",title:a,"aria-label":a})});function eF(e,t){return"children"in e&&!("children"in t)?-1:"children"in t&&!("children"in e)?1:e.name.localeCompare(t.name)}let eO=i.memo(e=>{let{data:t,onFileSelect:a,selectedFile:n,mainFile:s,isActive:o,setActionBarRenderer:l}=e,[c,d]=i.useState(0),m=i.useMemo(()=>(function(e){let t=[],a={result:t};return e.forEach(e=>{(0,eh.A)(e.file_path).split("/").reduce((t,a,r,n)=>(t[a]||(t[a]={result:[]},t.result.push({name:a,...r===n.length-1?e:{children:t[a].result}})),t.result.sort(eF),t[a]),a)}),t.sort(eF)})(t),[t]),h=i.useCallback(()=>{d(e=>e+1)},[]),p=i.useCallback(()=>(0,r.jsx)(eE,{onClick:h,label:"Collapse folders"}),[h]),g=i.useCallback(e=>{let r=e.currentTarget.getAttribute("data-file-path"),n=t.findIndex(e=>e.file_path===r);n>-1&&a(n)},[t,a]);return i.useEffect(()=>{o&&l(()=>p)},[o,p,l]),(0,r.jsx)(u.az,{children:(0,r.jsx)(eD,{tree:m,onItemClick:g,isCollapsed:c>0,selectedFile:n,mainFile:s},c)})});var eW=a(62849),eR=a(62346),eP=a(90727),eq=a(40792);let eH=(e,t)=>{let a=0;for(let r=0;r<t;r++)if(" "===e[r]){a=r+1;continue}return a?a-1:0},eG=i.memo(e=>{let{lineContent:t,filePath:a,onClick:n,startLineNumber:i,startColumn:s,endColumn:o}=e,l=eH(t,s),c=ex();return(0,r.jsxs)(u.az,{pr:"8px",pl:"36px",fontSize:"13px",lineHeight:"22px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer","data-file-path":a,"data-line-number":i,onClick:n,transitionDuration:"0",_hover:{bgColor:c["custom.list.hoverBackground"]},children:[(0,r.jsx)("span",{children:t.slice(l,s-1)}),(0,r.jsx)(f.B.span,{bgColor:c["custom.findMatchHighlightBackground"],children:t.slice(s-1,o-1)}),(0,r.jsx)("span",{children:t.slice(o-1)})]})}),eU=i.memo(e=>{let{data:t,onItemClick:a}=e,n=function(e){let t=e.split("/");return t[t.length-1]}(t.file_path),s=i.useCallback(e=>{let r=Number(e.currentTarget.getAttribute("data-line-number"));Object.is(r,NaN)||a(t.file_path,Number(r))},[t.file_path,a]),o=ex();return(0,r.jsx)(eL.A,{borderWidth:"0px",_last:{borderBottomWidth:"0px"},children:e=>{let{isExpanded:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eB.J,{py:0,px:2,_hover:{bgColor:o["custom.list.hoverBackground"]},fontSize:"13px",transitionDuration:"0",lineHeight:"22px",alignItems:"center",children:[(0,r.jsx)(u.az,{className:"codicon codicon-tree-item-expanded",transform:a?"rotate(0deg)":"rotate(-90deg)",width:"20px",height:"22px",py:"3px",flexShrink:0}),(0,r.jsx)(eN,{mr:"4px",fileName:n}),(0,r.jsx)(u.az,{mr:"8px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left",children:n}),(0,r.jsx)(u.az,{className:"monaco-count-badge",ml:"auto",bgColor:o["badge.background"],flexShrink:0,children:t.matches.length})]}),(0,r.jsx)(eI.v,{p:0,children:t.matches.map(e=>(0,r.jsx)(eG,{filePath:t.file_path,onClick:s,...e},t.file_path+"_"+e.startLineNumber+"_"+e.startColumn))})]})}})}),eV=i.memo(e=>{let{monaco:t,data:a,onFileSelect:n,isInputStuck:s,isActive:o,setActionBarRenderer:l,defaultValue:c}=e,[d,m]=i.useState(""),[h,p]=i.useState([]),[g,x]=i.useState([]),[b,f]=(0,ey.C)(),[v,y]=(0,ey.C)(),[j,_]=(0,ey.C)(),k=i.useRef({}),C=ex(),w=(0,eq.A)(d,300);i.useEffect(()=>{m(c)},[c]),i.useEffect(()=>{if(!t)return;w||p([]);let e=t.editor.getModels(),a=e.map(e=>e.findMatches(w,!1,j,b,v?"true":null,!1));e.forEach((e,t)=>{let r=e.uri.path,n=k.current[r]||[],i=a[t].map(e=>{let{range:t}=e;return{range:t,options:{className:"highlight"}}}),s=e.deltaDecorations(n,i);k.current[r]=s});let r=a.map((t,a)=>{let r=e[a];return{file_path:r.uri.path,matches:t.map(e=>{let{range:t}=e;return{...t,lineContent:r.getLineContent(t.startLineNumber)}})}}).filter(e=>{let{matches:t}=e;return t.length>0});p(r.length>0?r:[])},[w,b,j,v,t]),i.useEffect(()=>{x(h.map((e,t)=>t))},[h]);let A=i.useCallback(e=>{m(e.target.value)},[]),S=i.useCallback((e,t)=>{let r=a.findIndex(t=>t.file_path===e);r>-1&&n(r,Number(t))},[a,n]),z=i.useCallback(e=>{x(e)},[]),L=i.useCallback(()=>{0===g.length?x(h.map((e,t)=>t)):x([])},[g.length,h]),B=i.useCallback(()=>(0,r.jsx)(eE,{onClick:L,label:0===g.length?"Expand all":"Collapse all",isDisabled:0===h.length,isCollapsed:0===g.length}),[g.length,L,h.length]);i.useEffect(()=>{o&&l(()=>B)},[o,B,l]);let I={boxSize:"20px",p:"1px",cursor:"pointer",borderRadius:"3px",borderWidth:"1px",borderColor:"transparent"},N=(()=>{if(!w)return null;let e=h.map(e=>{let{matches:t}=e;return t.length}).reduce((e,t)=>e+t,0);return e?(0,r.jsxs)(u.az,{px:"8px",fontSize:"13px",lineHeight:"18px",mb:"8px",children:[e," result",e>1?"s":""," in ",h.length," file",h.length>1?"s":""]}):(0,r.jsx)(u.az,{px:"8px",fontSize:"13px",lineHeight:"18px",mb:"8px",children:"No results found. Review your settings for configured exclusions."})})();return(0,r.jsxs)(u.az,{children:[(0,r.jsxs)(eW.M,{px:"8px",position:"sticky",top:"35px",left:"0",zIndex:"2",bgColor:C["sideBar.background"],pb:"8px",boxShadow:s?"md":"none",children:[(0,r.jsx)(eR.p,{size:"xs",onChange:A,value:d,placeholder:"Search",variant:"unstyled",color:C["input.foreground"],bgColor:C["input.background"],borderRadius:"none",fontSize:"13px",lineHeight:"20px",borderWidth:"1px",borderColor:C["input.background"],py:"2px",pl:"4px",pr:"75px",transitionDuration:"0",_focus:{borderColor:C.focusBorder}}),(0,r.jsxs)(eP.t,{w:"auto",h:"auto",right:"12px",top:"3px",columnGap:"2px",children:[(0,r.jsx)(u.az,{...I,className:"codicon codicon-case-sensitive",onClick:f.toggle,bgColor:b?C["custom.inputOption.activeBackground"]:"transparent",_hover:{bgColor:b?C["custom.inputOption.activeBackground"]:C["custom.inputOption.hoverBackground"]},title:"Match Case","aria-label":"Match Case"}),(0,r.jsx)(u.az,{...I,className:"codicon codicon-whole-word",bgColor:v?C["custom.inputOption.activeBackground"]:"transparent",onClick:y.toggle,_hover:{bgColor:v?C["custom.inputOption.activeBackground"]:C["custom.inputOption.hoverBackground"]},title:"Match Whole Word","aria-label":"Match Whole Word"}),(0,r.jsx)(u.az,{...I,className:"codicon codicon-regex",bgColor:j?C["custom.inputOption.activeBackground"]:"transparent",onClick:_.toggle,_hover:{bgColor:j?C["custom.inputOption.activeBackground"]:C["custom.inputOption.hoverBackground"]},title:"Use Regular Expression","aria-label":"Use Regular Expression"})]})]}),N,(0,r.jsx)(ez.n,{allowMultiple:!0,index:g,onChange:z,reduceMotion:!0,children:h.map(e=>(0,r.jsx)(eU,{data:e,onItemClick:S},e.file_path))},w)]})}),e$=i.memo(e=>{let{onFileSelect:t,data:a,monaco:n,editor:s,selectedFile:o,mainFile:l}=e,[c,d]=i.useState(!1),[m,h]=(0,ey.C)(!1),[p,g]=i.useState(0),[x,b]=i.useState(""),[f,v]=i.useState(),y=ex(),j={fontFamily:"heading",textTransform:"uppercase",fontSize:"11px",lineHeight:"35px",fontWeight:500,color:y["tab.inactiveForeground"],_selected:{color:y["tab.activeForeground"]},px:0,letterSpacing:.3},_=i.useRef((0,eA.n)(e=>{d(e.target.scrollTop>0)},100)),k=i.useCallback((e,a)=>{m&&h.off(),t(e,a)},[m,t,h]);return i.useEffect(()=>{s&&n&&(s.addAction({id:"file-explorer",label:"Show File Explorer",keybindings:[n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KeyE],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){g(0)}}),s.addAction({id:"search-in-files",label:"Show Search in Files",keybindings:[n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KeyF],contextMenuGroupId:"navigation",contextMenuOrder:1.6,run:function(e){var t;g(1);let a=e.getSelection();b((a?null===(t=e.getModel())||void 0===t?void 0:t.getValueInRange(a):"")||"")}}))},[s,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.az,{w:"".concat(250,"px"),flexShrink:0,bgColor:y["sideBar.background"],fontSize:"13px",overflowY:"scroll",onScroll:_.current,position:{base:"absolute",lg:"relative"},right:{base:m?"0":"-".concat(250,"px"),lg:"0"},top:{base:0,lg:void 0},h:"100%",pb:"22px",boxShadow:{base:m?"md":"none",lg:"none"},zIndex:{base:"2",lg:void 0},transitionProperty:"right",transitionDuration:"normal",transitionTimingFunction:"ease-in-out",borderTopRightRadius:"md",borderBottomRightRadius:"md",children:(0,r.jsxs)(ej.t,{isLazy:!0,lazyBehavior:"keepMounted",variant:"unstyled",size:"13px",index:p,onChange:g,children:[(0,r.jsxs)(e_.w,{columnGap:3,position:"sticky",top:0,left:0,bgColor:y["sideBar.background"],zIndex:"1",px:2,boxShadow:c?"md":"none",borderTopRightRadius:"md",children:[(0,r.jsx)(ek.o,{...j,title:"File explorer (".concat(eS.BN+eS.HW,"E)"),children:"Explorer"}),(0,r.jsx)(ek.o,{...j,title:"Search in files (".concat(eS.BN+eS.HW,"F)"),children:"Search"}),null==f?void 0:f()]}),(0,r.jsxs)(eC.T,{children:[(0,r.jsx)(ew.K,{p:0,children:(0,r.jsx)(eO,{data:a,onFileSelect:k,selectedFile:o,mainFile:l,isActive:0===p,setActionBarRenderer:v})}),(0,r.jsx)(ew.K,{p:0,children:(0,r.jsx)(eV,{data:a,onFileSelect:k,monaco:n,isInputStuck:c,isActive:1===p,setActionBarRenderer:v,defaultValue:x})})]})]})}),(0,r.jsx)(u.az,{boxSize:"24px",p:"4px",position:"absolute",display:{base:"block",lg:"none"},right:m?"".concat(249,"px"):"0",top:"calc(50% - 12px)",backgroundColor:y["sideBar.background"],borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",boxShadow:"md",onClick:h.toggle,zIndex:"1",transitionProperty:"right",transitionDuration:"normal",transitionTimingFunction:"ease-in-out",title:m?"Open sidebar":"Close sidebar","aria-label":m?"Open sidebar":"Close sidebar",children:(0,r.jsx)(u.az,{className:"codicon codicon-tree-item-expanded",transform:m?"rotate(-90deg)":"rotate(+90deg)",boxSize:"16px"})})]})}),eK=i.memo(e=>{let{isActive:t,isMainFile:a,path:n,onClick:s,onClose:o,isCloseDisabled:l,tabsPathChunks:c}=e,[d,m]=function(e,t){let a=e.split("/");return[a[a.length-1],function(e,t){let a=e[e.length-1],r=t.filter(t=>t.join("/")!==e.join("/")).filter(e=>e[e.length-1]===a);if(0===r.length||e.length<=1)return;if(2===e.length)return"./"+e[e.length-2];let n="/"+e[e.length-2];for(let t=3;t<=e.length;t++){let a=e[e.length-t];if(""===a&&(n="."+n),r.map(e=>e[e.length-t]).includes(a))n="/"+a+n;else break}return n}(a,t)]}(n,c),h=ex(),p=i.useCallback(()=>{s(n)},[s,n]),g=i.useCallback(e=>{e.stopPropagation(),l||o(n)},[l,o,n]);return(0,r.jsxs)(x.s,{pl:"10px",pr:"4px",fontSize:"13px",lineHeight:"34px",bgColor:t?h["tab.activeBackground"]:h["tab.inactiveBackground"],borderRightWidth:"1px",borderRightColor:h["tab.border"],borderBottomWidth:"1px",borderBottomColor:t?"transparent":h["tab.border"],color:t?h["tab.activeForeground"]:h["tab.inactiveForeground"],alignItems:"center",fontWeight:400,cursor:"pointer",onClick:p,_hover:{".codicon-close":{visibility:"visible"}},userSelect:"none",children:[(0,r.jsx)(eN,{mr:"4px",fileName:d}),(0,r.jsx)("span",{children:d}),m&&(0,r.jsxs)(f.B.span,{fontSize:"11px",opacity:.8,ml:1,children:["."===m[0]?"":"...",m]}),a&&(0,r.jsx)(eT,{ml:2}),(0,r.jsx)(u.az,{className:"codicon codicon-close",boxSize:"20px",ml:"4px",p:"2px",title:"Close ".concat(t?"(".concat(eS.CC,"W)"):""),"aria-label":"Close",onClick:g,borderRadius:"sm",opacity:l?.3:1,visibility:{base:"visible",lg:t?"visible":"hidden"},color:h["icon.foreground"],_hover:{bgColor:l?"transparent":h["custom.inputOption.hoverBackground"]}})]})}),eJ=i.memo(e=>{let{tabs:t,activeTab:a,mainFile:n,onTabSelect:s,onTabClose:o}=e,l=ex(),c=i.useMemo(()=>t.map(e=>e.split("/")),[t]);return(0,r.jsx)(x.s,{borderTopLeftRadius:"md",overflow:"hidden",bgColor:l["sideBar.background"],flexWrap:"wrap",children:t.map(e=>(0,r.jsx)(eK,{path:e,isActive:a===e,isMainFile:n===e,onClick:s,onClose:o,isCloseDisabled:1===t.length,tabsPathChunks:c},e))})});function eY(e,t){return e.range.endLineNumber<t.range.endLineNumber?-1:e.range.endLineNumber>t.range.endLineNumber?1:0}let eQ=e=>t=>{if(!t.name.includes(":"))return t.name;let[a,r]=t.name.split(":");if(e.uri.path==="/".concat(a))return r},eZ={comments:{blockComment:["(*","*)"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]}]},eX={brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.parenthesis",open:"(",close:")"},{token:"delimiter.square",open:"[",close:"]"}],keywords:["let","contains","delete","put","remove","library","import","contract","event","field","send","fun","transition","procedure","match","end","with","builtin","Emp","of","scilla_version"],builtins:["eq","add","sub","mul","div","rem","lt","blt","in","substr","sha256hash","keccak256hash","ripemd160hash","to_byStr","to_nat","pow","to_uint256","to_uint32","to_uint64","to_uint128","to_int256","to_int32","to_int64","to_int128","schnorr_verify","concat","andb","orb","bool_to_string","negb","Nil"],operators:["=","=>","<=","->","<-"],symbols:/[=><!~?:&|+\-*/^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,integersuffix:/(ll|LL|[uUlL])?(ll|LL|[uUlL])?/,floatsuffix:/[fl]?/i,decpart:/\d(_?\d)*/,decimal:/0|@decpart/,tokenizer:{root:[[/[a-z_]\w*[!?=]?/i,{cases:{"@keywords":{token:"keyword.$0"},"@builtins":"predefined","@default":"identifier"}}],[/\b(Nil)\b/,"predefined"],[/\b(Emp)\b/,"keyword"],[/\b(String|Uint32|Uint64|Uint128|Uint256|Int32|Int64|Int128|Int256|Map|True|False|ByStr|ByStr20|ByStr32|ByStr64|ByStr33|BNum|Option|None|Bool|Some|List|Cons|Pair|type|Zero|Succ|Message)\b/,"type"],{include:"@whitespace"},[/0x[0-9a-f](_?[0-9a-f])*/i,"number.hex"],[/0[_o][0-7](_?[0-7])*/i,"number.octal"],[/0b[01](_?[01])*/i,"number.binary"],[/0[dD]@decpart/,"number"],[/@decimal((\.@decpart)?([eE][-+]?@decpart)?)/,{cases:{$1:"number.float","@default":"number"}}],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\(\*.*$/,"comment"]],comment:[[/[^(*]+/,"comment"],[/[(*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]]}};var e0=a(61952);let e1={readOnly:!0,minimap:{enabled:!1},scrollbar:{alwaysConsumeMouseWheel:!0},dragAndDrop:!1},e2=i.memo(e=>{let{data:t,remappings:a,libraries:n,language:s,mainFile:o,contractName:l}=e,[c,d]=i.useState(),[m,h]=i.useState(),[p,g]=i.useState(0),[b,f]=i.useState([t[p].file_path]),[v,y]=i.useState(!1),[j,_]=(0,ed.A)(),{colorMode:k}=(0,I.G6)(),C=(0,eo.rd)("radii","md"),w=(0,eu.A)(),A=ex(),S=j?j.width-(w?0:250):0,z=(()=>{switch(s){case"vyper":return"elixir";case"json":return"json";case"solidity":return"sol";case"scilla":return"scilla";case"stylus_rust":return"rust";default:return"javascript"}})();i.useEffect(()=>{null==c||c.editor.setTheme("light"===k?"blockscout-light":"blockscout-dark")},[k,null==c?void 0:c.editor]);let L=i.useCallback((e,a)=>{d(a),h(e),a.editor.defineTheme("blockscout-light",ep),a.editor.defineTheme("blockscout-dark",eg),a.editor.setTheme("light"===k?"blockscout-light":"blockscout-dark"),"scilla"===z&&(a.languages.register({id:z}),a.languages.setMonarchTokensProvider(z,eX),a.languages.setLanguageConfiguration(z,eZ));let r=a.editor.getModels(),i=r.map(e=>e.uri.path),c=t.slice(1).filter(e=>!i.includes(e.file_path)).map(e=>a.editor.createModel(e.source_code,z,a.Uri.parse(e.file_path)));"solidity"===s&&r.concat(c).forEach(t=>{l&&o===t.uri.path&&function(e,t,a){let r={isWholeLine:!0};if(e.findMatches("^contract\\s",!1,!0,!1,null,!0).length<2)return;let[n]=e.findMatches("(^contract ".concat(t,")(\\sis\\s.+(\\s?,.+)*)?((\\s?\\{)|\\n)"),!1,!0,!1,null,!0);if(!n)return;let i={range:{startColumn:1,endColumn:10,startLineNumber:n.range.startLineNumber,endLineNumber:n.range.startLineNumber},options:{...r,className:".main-contract-header",marginClassName:".main-contract-header",glyphMarginClassName:".main-contract-glyph",glyphMarginHoverMessage:[{value:"Main contract"}]}},s={startLineNumber:n.range.startLineNumber,startColumn:1,endColumn:10,endLineNumber:e.getLineCount()},[o]=e.findMatches("^\\}",s,!0,!1,null,!0).sort(eY),l={range:{startLineNumber:n.range.startLineNumber+1,endLineNumber:o.range.startLineNumber,startColumn:1,endColumn:10},options:{...r,className:".main-contract-body",marginClassName:".main-contract-body"}};a.updateOptions({glyphMargin:!0}),e.deltaDecorations([],[i,l])}(t,l,e),function(e){let t={inlineClassName:"import-link",hoverMessage:{value:"Cmd/Win + click to open file"}},a=e.findMatches("^import ('|\")(.+)('|\")",!1,!0,!1,null,!0).map(e=>{let{range:a}=e;return{range:{...a,startColumn:a.startColumn+8,endColumn:a.endColumn-1},options:t}}),r=e.findMatches("(^import \\{.+\\} from )('|\")(.+)('|\")",!1,!0,!1,null,!0).map(e=>{var a;let{range:r,matches:n}=e;return{range:{...r,startColumn:r.startColumn+(Array.isArray(n)?(null==n?void 0:null===(a=n[1])||void 0===a?void 0:a.length)+1:0),endColumn:r.endColumn-1},options:t}});e.deltaDecorations([],a.concat(r))}(t),(null==n?void 0:n.length)&&function(e,t){let a={isWholeLine:!0,hoverMessage:[{value:"**This is an external library linked to the verified contract**"},{value:"The linked library source code only affects the bytecode part with external `DELEGATECALL` to the library and it is not possible to automatically ensure that provided library is really the one deployed at specified address. If you want to be sure, check the source code of the library at the given address. (See [issue](https://github.com/blockscout/blockscout-rs/issues/532) for more details)"}]},r=t.map(eQ(e)).filter(Boolean).join("|");if(!r)return;let[n]=e.findMatches("(^library ".concat(r,")\\s?\\{"),!1,!0,!1,null,!0);if(!n)return;let i={range:{startColumn:1,endColumn:10,startLineNumber:n.range.startLineNumber,endLineNumber:n.range.startLineNumber},options:{...a,className:".risk-warning-primary",marginClassName:".risk-warning-primary"}},s={startLineNumber:n.range.startLineNumber,startColumn:1,endColumn:10,endLineNumber:e.getLineCount()},[o]=e.findMatches("^\\}",s,!0,!1,null,!0).sort(eY),l={range:{startLineNumber:n.range.startLineNumber+1,endLineNumber:o.range.startLineNumber,startColumn:1,endColumn:10},options:{...a,className:".risk-warning",marginClassName:".risk-warning"}};e.deltaDecorations([],[i,l])}(t,n)}),e.addAction({id:"close-tab",label:"Close current tab",keybindings:[a.KeyMod.Alt|a.KeyCode.KeyW],contextMenuGroupId:"navigation",contextMenuOrder:1.7,run:function(e){let t=e.getModel(),a=null==t?void 0:t.uri.path;a&&T(a,!0)}})},[]),B=i.useCallback((e,a)=>{g(e),f(a=>a.some(a=>a===t[e].file_path)?a:[...a,t[e].file_path]),void 0===a||Object.is(a,NaN)||window.setTimeout(()=>{null==m||m.revealLineInCenter(a)},0),null==m||m.focus()},[t,m]),N=i.useCallback(e=>{let a=t.findIndex(t=>t.file_path===e);a>-1&&g(a)},[t]),T=i.useCallback((e,a)=>{f(r=>{if(r.length>1){let n=r.findIndex(t=>t===e);return(void 0!==a?a:t[p].file_path===e)&&g(t.findIndex(e=>e.file_path===r[0===n?1:n-1])),r.filter(t=>t!==e)}return r})},[t,p]),M=i.useCallback(e=>{if(!v&&!w)return;let r=e.target;if(r.classList.contains("import-link")){let n=[r.previousElementSibling,r,r.nextElementSibling].filter(e=>null==e?void 0:e.classList.contains("import-link")).map(e=>e.innerText).join(""),i=function(e,t,a){if("."!==t[0]){let r=t;if(a&&a.length>0){let{prefix:n,target:i}=a.map(e=>{let t=e.split(":"),[a,r]=t[t.length-1].split("=");return{context:t.length>1?t[0]:void 0,prefix:a,target:r}}).find(a=>{let{context:r,prefix:n}=a;if(r){let a="/"+(0,eh.A)((0,e0.A)(r));return e.startsWith(a+"/")&&t.startsWith(n)}return t.startsWith(n)})||{};n&&i&&(r=t.replace(n,i))}return"/"===r[0]?r:"/"+r}let r=(0,eh.A)(e).split("/"),n=t.split("/"),i=r.slice(0,-1);for(let e=0;e<n.length;e++){let t=n[e];if("."!==t){if(".."===t){if(0===i.length)break;i.pop();continue}i.push(t)}}if(0!==i.length)return"/"+i.join("/")}(t[p].file_path,n,a),s=t.findIndex(e=>e.file_path===i);s>-1&&(e.stopPropagation(),B(s))}},[t,B,p,v,w,a]),D=i.useCallback(e=>{(function(e){return e.metaKey||e.getModifierState("Meta")})(e)&&y(!0)},[]),E=i.useCallback(()=>{y(!1)},[]),F=i.useMemo(()=>({".editor-container":{position:"absolute",top:0,left:0,width:"".concat(S,"px"),height:"100%"},".monaco-editor":{"border-bottom-left-radius":C},".monaco-editor .overflow-guard":{"border-bottom-left-radius":C},".monaco-editor .core-guide":{zIndex:1},".monaco-editor .findMatch":{backgroundColor:A["custom.findMatchHighlightBackground"]},".highlight":{backgroundColor:A["custom.findMatchHighlightBackground"]},"&&.meta-pressed .import-link:hover, &&.meta-pressed .import-link:hover + .import-link":{color:A["custom.fileLink.hoverForeground"],textDecoration:"underline",cursor:"pointer"},".risk-warning-primary":{backgroundColor:A["custom.riskWarning.primaryBackground"]},".risk-warning":{backgroundColor:A["custom.riskWarning.background"]},".main-contract-header":{backgroundColor:A["custom.mainContract.header"]},".main-contract-body":{backgroundColor:A["custom.mainContract.body"]},".main-contract-glyph":{zIndex:1,background:"url(/static/contract_star.png) no-repeat center center",backgroundSize:"12px",cursor:"pointer"}}),[S,A,C]),O=i.useCallback(()=>(0,r.jsx)(el.o,{bgColor:A["editor.background"],w:"100%",borderRadius:"md",children:"Oops! Something went wrong!"}),[A]);if(1===t.length){let e={...F,".monaco-editor":{"border-radius":C},".monaco-editor .overflow-guard":{"border-radius":C}};return(0,r.jsx)(u.az,{height:"".concat(500,"px"),width:"100%",sx:e,ref:_,children:(0,r.jsx)(em.A,{renderErrorScreen:O,children:(0,r.jsx)(ec.Ay,{className:"editor-container",language:z,path:t[p].file_path,defaultValue:t[p].source_code,options:e1,onMount:L,loading:(0,r.jsx)(ev,{borderRadius:"md"})})})})}return(0,r.jsx)(x.s,{className:v?"meta-pressed":void 0,width:"100%",height:"".concat(557,"px"),position:"relative",ref:_,sx:F,overflow:{base:"hidden",lg:"visible"},borderRadius:"md",onClick:M,onKeyDown:D,onKeyUp:E,children:(0,r.jsxs)(em.A,{renderErrorScreen:O,children:[(0,r.jsxs)(u.az,{flexGrow:1,children:[(0,r.jsx)(eJ,{tabs:b,activeTab:t[p].file_path,mainFile:o,onTabSelect:N,onTabClose:T}),(0,r.jsx)(eb,{path:t[p].file_path}),(0,r.jsx)(ec.Ay,{className:"editor-container",height:"".concat(500,"px"),language:z,path:t[p].file_path,defaultValue:t[p].source_code,options:e1,onMount:L,loading:(0,r.jsx)(ev,{borderBottomLeftRadius:"md"})})]}),(0,r.jsx)(e$,{data:t,onFileSelect:B,monaco:c,editor:m,selectedFile:t[p].file_path,mainFile:o})]})})}),e5=i.memo((0,f.B)(e=>{let{data:t,copyData:a,language:n,title:s,className:o,rightSlot:l,isLoading:c}=e,d=i.useMemo(()=>[{file_path:"index",source_code:t}],[t]);return(0,r.jsxs)(u.az,{className:o,as:"section",title:s,children:[(s||l)&&(0,r.jsxs)(x.s,{justifyContent:s?"space-between":"flex-end",alignItems:"center",mb:3,children:[s&&(0,r.jsx)(y.A,{fontWeight:500,isLoaded:!c,children:s}),l,(0,r.jsx)(B.A,{text:null!=a?a:t,isLoading:c})]}),c?(0,r.jsx)(y.A,{height:"500px",w:"100%"}):(0,r.jsx)(e2,{data:d,language:n})]})}));var e6=a(71017),e3=a(90858);let e4=/^(u)?int(\d+)?$/i,e8=/^bytes(\d+)?$/i,e7=/^(.*)\[(\d*)\]$/,e9=e=>{let t=e.match(e7);if(!t)return null;let[,a,r]=t,n=!!e9(a);return{itemType:a,size:r?Number(r):1/0,isNested:n}},te=e=>{let t=e.match(e4);if(!t)return null;let[,a,r="256"]=t,[n,i]=ta(Number(r),!!a);return{isUnsigned:!!a,power:r,min:n,max:i}},tt=(e,t)=>{let a=e9(e.type),r=e.internalType?e9(e.internalType):null,n=null==r?void 0:r.itemType.replaceAll("struct ","");return{...e,type:(null==a?void 0:a.itemType)||e.type,internalType:n,name:"#".concat(t+1).concat(n?" "+n:"")}},ta=(e,t)=>{let a=BigInt(2**e),r=t?a-BigInt(1):a/BigInt(2)-BigInt(1);return[t?BigInt(0):-a/BigInt(2),r]};function tr(e,t){let a=e.name||e.internalType||"<unnamed argument>";return"".concat(a," (").concat(e.type,")").concat(t?"*":"")}let tn=e=>{let{value:t,type:a,addressTruncation:n="dynamic"}=e,i=e9(a);if(i&&Array.isArray(t))return t.map((e,a)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tn,{value:e,type:i.itemType,addressTruncation:"constant"},a),a<t.length-1&&", "]}));if("address"===a&&"string"==typeof t)return(0,r.jsx)(j.Ay,{address:{hash:t},noIcon:!0,display:"inline-flex",maxW:"100%",truncation:n});let s=null==t||""===t?'""':"object"==typeof t?JSON.stringify(t):"string"==typeof t||"number"==typeof t||"boolean"==typeof t?t:String(t);return(0,r.jsx)("span",{children:s})},ti=i.memo(e=>{let{data:t,isLoading:a}=e,n=i.useMemo(()=>{if(!(null==t?void 0:t.decoded_constructor_args))return null==t?void 0:t.constructor_args;let e=t.decoded_constructor_args.map((e,t)=>{let[a,{name:n,type:i}]=e;return(0,r.jsxs)(u.az,{children:[(0,r.jsxs)("span",{children:["Arg [",t,"] ",n||""," (",i,"): "]}),(0,r.jsx)(tn,{value:a,type:i})]},t)});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:t.constructor_args}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),e]})},[null==t?void 0:t.constructor_args,null==t?void 0:t.decoded_constructor_args]);return n?(0,r.jsx)(e6.A,{data:n,title:"Constructor Arguments",textareaMaxHeight:"200px",isLoading:a}):null});var ts=a(27821),to=a(21455);function tl(e){return"."===e[0]&&"/"===e[1]?e.slice(1):"/"===e[0]?e:"/"+e}var tc=a(33725),td=a(62887),tu=a(29194),tm=a(63487),th=a(63286);let tp=i.memo((0,f.B)(e=>{let{className:t,hash:a,isLoading:n}=e,{isOpen:o,onToggle:l,onClose:c}=(0,H.j)(),d=(0,I.dU)("gray.600","gray.500"),u=i.useMemo(()=>s.A.UI.ides.items.map(e=>{let t=decodeURIComponent(e.url.replace("{hash}",a).replace("{domain}",s.A.app.host||"")),n="icon_url"in e?(0,r.jsx)(tc._,{boxSize:5,mr:2,src:e.icon_url,alt:"".concat(e.title," icon")}):(0,r.jsx)(M.A,{name:"ABI_slim",boxSize:5,color:d,mr:2});return(0,r.jsxs)(_.A,{href:t,display:"inline-flex",alignItems:"center",children:[n,e.title]},e.title)}),[d,a]);return n?(0,r.jsx)(y.A,{h:8,w:"92px",borderRadius:"base"}):0===u.length?null:(0,r.jsxs)(th.A,{isOpen:o,onClose:c,placement:"bottom-start",isLazy:!0,children:[(0,r.jsx)(td.W,{children:(0,r.jsxs)(C.$,{className:t,size:"sm",variant:"outline",colorScheme:"gray",onClick:l,isActive:o,"aria-label":"Open source code in IDE",fontWeight:500,px:2,h:"32px",flexShrink:0,children:[(0,r.jsx)("span",{children:"Open in"}),(0,r.jsx)(M.A,{name:"arrows/east-mini",transform:o?"rotate(90deg)":"rotate(-90deg)",transitionDuration:"faster",boxSize:5})]})}),(0,r.jsx)(tu.h,{w:"240px",children:(0,r.jsxs)(tm.e,{children:[(0,r.jsx)(f.B.span,{color:"text_secondary",fontSize:"xs",children:"Redactors"}),(0,r.jsx)(x.s,{flexDir:"column",alignItems:"flex-start",columnGap:6,rowGap:3,mt:3,children:u})]})})]})}));var tg=a(91311),tx=a(77690),tb=a(32816),tf=a(65712),tv=a(21302);let ty=e=>(0,r.jsxs)(x.s,{flexDir:"column",py:2,w:"100%",rowGap:1,children:[(0,r.jsx)(u.az,{children:e.name}),(0,r.jsx)(j.Ay,{address:{hash:e.address_hash,is_contract:!0},query:{tab:"contract"},fontSize:"sm",fontWeight:"500",target:"_blank"})]}),tj=e=>{let{className:t,data:a,isLoading:n}=e,{isOpen:i,onToggle:s,onClose:o}=(0,H.j)(),l=(0,eu.A)();if(n)return(0,r.jsx)(y.A,{h:8,w:"150px",borderRadius:"base"});if(0===a.length)return null;let c=(0,r.jsxs)(C.$,{className:t,size:"sm",variant:"outline",colorScheme:"gray",onClick:s,isActive:i,fontWeight:600,px:2,"aria-label":"View external libraries",children:[(0,r.jsxs)("span",{children:[a.length," ",a.length>1?"Libraries":"Library"," "]}),(0,r.jsx)(M.A,{name:"status/warning",boxSize:5,color:"orange.400",ml:"2px"}),(0,r.jsx)(M.A,{name:"arrows/east-mini",transform:i?"rotate(90deg)":"rotate(-90deg)",transitionDuration:"faster",boxSize:5,ml:2})]}),d=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(tg.D,{size:"sm",children:["External libraries (",a.length,")"]}),(0,r.jsxs)(b.F,{status:"warning",mt:4,children:["The linked library",eS.wA,"s source code may not be the real one. Check the source code at the library address (if any) if you want to be sure in case if there is any library linked"]}),(0,r.jsx)(V.T,{divider:(0,r.jsx)(tx.G,{borderColor:"divider"}),spacing:2,mt:4,maxH:{lg:"50vh"},overflowY:"scroll",children:a.map(e=>(0,r.jsx)(ty,{...e},e.address_hash))})]});return l?(0,r.jsxs)(r.Fragment,{children:[c,(0,r.jsx)(tb.aF,{isOpen:i,onClose:o,size:"full",children:(0,r.jsxs)(tf.$,{paddingTop:4,children:[(0,r.jsx)(tv.s,{}),d]})})]}):(0,r.jsxs)(th.A,{isOpen:i,onClose:o,placement:"bottom-start",isLazy:!0,children:[(0,r.jsx)(td.W,{children:c}),(0,r.jsx)(tu.h,{w:"400px",children:(0,r.jsx)(tm.e,{children:d})})]})},t_=i.memo(e=>{let{data:t,isLoading:a,sourceAddress:n}=e,s=i.useMemo(()=>(function(e){if(!e||!e.source_code)return;let t=(()=>{switch(e.language){case"vyper":return"vy";case"yul":return"yul";case"scilla":return"scilla";case"stylus_rust":return"rs";default:return"sol"}})();return[{file_path:tl(e.file_path||"index.".concat(t)),source_code:e.source_code},...(e.additional_sources||[]).map(e=>({...e,file_path:tl(e.file_path)}))]})(t),[t]),o=(0,r.jsxs)(y.A,{isLoaded:!a,fontWeight:500,children:[(0,r.jsx)("span",{children:"Contract source code"}),(null==t?void 0:t.language)&&(0,r.jsxs)(ts.E,{whiteSpace:"pre",as:"span",variant:"secondary",children:[" (",(0,to.A)(t.language),")"]})]}),l=(null==t?void 0:t.external_libraries)?(0,r.jsx)(tj,{data:t.external_libraries,isLoading:a}):null,c=(null==t?void 0:t.can_be_visualized_via_sol2uml)?(0,r.jsx)(N.m,{label:"Visualize contract code using Sol2Uml JS library",children:(0,r.jsx)(k.A,{href:(0,v.w)({pathname:"/visualize/sol2uml",query:{address:n}}),ml:{base:"0",lg:"auto"},isLoading:a,children:(0,r.jsx)(y.A,{isLoaded:!a,children:"View UML diagram"})})}):null,d=(null==t?void 0:t.language)&&["solidity","vyper","yul"].includes(t.language)?(0,r.jsx)(tp,{hash:n,isLoading:a}):null,u=t&&(null==s?void 0:s.length)===1?(0,r.jsx)(B.A,{text:t.source_code,isLoading:a,ml:{base:"auto",lg:c?"0":"auto"}}):null,m=(()=>{var e,i,o,l,c;return a?(0,r.jsx)(y.A,{h:"557px",w:"100%"}):s?(0,r.jsx)(e2,{data:s,remappings:null==t?void 0:null===(e=t.compiler_settings)||void 0===e?void 0:e.remappings,libraries:null!==(o=null==t?void 0:t.external_libraries)&&void 0!==o?o:void 0,language:null!==(l=null==t?void 0:t.language)&&void 0!==l?l:void 0,mainFile:null===(i=s[0])||void 0===i?void 0:i.file_path,contractName:null!==(c=null==t?void 0:t.name)&&void 0!==c?c:void 0},n):null})();return(0,r.jsxs)("section",{children:[(0,r.jsxs)(x.s,{alignItems:"center",mb:3,columnGap:3,rowGap:2,flexWrap:"wrap",children:[o,l,c,d,u]}),m]})}),tk={flexWrap:"wrap",rowGap:2},tC={w:{base:"100%",lg:"auto"}},tw=e=>{var t;let{addressHash:a,channel:s,mainContractQuery:c}=e,f=(0,n.useRouter)(),v=(0,l.A)(f.query.source_address),y=(0,m.jE)(),j=y.getQueryData((0,o.y)("address",{pathParams:{hash:a}})),_=i.useMemo(()=>{let e=(null==j?void 0:j.proxy_type)==="eip7702"?"Current address":"Current contract",t={address:a,name:(null==j?void 0:j.name)||e};return j&&j.implementations&&0!==j.implementations.length?[t,...(null==j?void 0:j.implementations.filter(e=>e.address!==a&&e.name))||[]]:[t]},[j,a]),[k,C]=i.useState(_.find(e=>e.address===v)||_[0]),{data:A,isPlaceholderData:S,isError:z}=(0,o.A)("contract",{pathParams:{hash:null==k?void 0:k.address},queryOptions:{enabled:!!(null==k?void 0:k.address),refetchOnMount:!1,placeholderData:(null==j?void 0:j.is_verified)?d.W5:d.zF}}),B=function(e){let{data:t,isLoading:a,addressHash:n,sourceAddress:s}=e,o=!(null==t?void 0:t.is_self_destructed)&&!(null==t?void 0:t.is_verified)&&(null==t?void 0:t.proxy_type)!=="eip7702";return i.useMemo(()=>{let e=(0,r.jsx)(w,{isLoading:a,addressHash:n,isPartiallyVerified:!!(null==t?void 0:t.is_partially_verified)});return[(null==t?void 0:t.constructor_args)||(null==t?void 0:t.source_code)?{id:"contract_source_code",title:"Code",component:(0,r.jsxs)(x.s,{flexDir:"column",rowGap:6,children:[(0,r.jsx)(ti,{data:t,isLoading:a}),(null==t?void 0:t.source_code)&&(0,r.jsx)(t_,{data:t,isLoading:a,sourceAddress:s})]})}:void 0,(null==t?void 0:t.compiler_settings)?{id:"contract_compiler",title:"Compiler",component:(0,r.jsx)(e5,{data:JSON.stringify(t.compiler_settings,void 0,2),language:"json",title:"Compiler Settings",copyData:JSON.stringify(t.compiler_settings),isLoading:a})}:void 0,(null==t?void 0:t.abi)?{id:"contract_abi",title:"ABI",component:(0,r.jsx)(e5,{data:JSON.stringify(t.abi,void 0,2),language:"json",title:"Contract ABI",copyData:JSON.stringify(t.abi),isLoading:a})}:void 0,(null==t?void 0:t.creation_bytecode)||(null==t?void 0:t.deployed_bytecode)?{id:"contract_bytecode",title:"ByteCode",component:(0,r.jsxs)(x.s,{flexDir:"column",rowGap:6,children:[(null==t?void 0:t.creation_bytecode)&&(0,r.jsx)(e6.A,{data:t.creation_bytecode,title:"Contract creation code",rightSlot:o?e:null,beforeSlot:t.is_self_destructed?(0,r.jsx)(b.F,{status:"info",whiteSpace:"pre-wrap",mb:3,children:"Contracts that self destruct in their constructors have no contract code published and cannot be verified. Displaying the init data provided of the creating transaction."}):null,textareaMaxHeight:"300px",isLoading:a}),(null==t?void 0:t.deployed_bytecode)&&(0,r.jsx)(e6.A,{data:t.deployed_bytecode,title:"Deployed ByteCode",rightSlot:(null==t?void 0:t.creation_bytecode)||!o?null:e,textareaMaxHeight:"300px",isLoading:a})]})}:void 0].filter(Boolean)},[a,n,t,s,o])}({data:A,isLoading:S,addressHash:a,sourceAddress:k.address}),I=i.useCallback(()=>{y.refetchQueries({queryKey:(0,o.y)("address",{pathParams:{hash:a}})}),y.refetchQueries({queryKey:(0,o.y)("contract",{pathParams:{hash:a}})})},[a,y]);if((0,h.A)({channel:s,event:"smart_contract_was_verified",handler:I}),z)return(0,r.jsx)(p.A,{});let N=_.length>1?(0,r.jsx)(F,{isLoading:c.isPlaceholderData,label:"Source code",items:_,selectedItem:k,onItemSelect:C,mr:{lg:8}}):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L,{data:c.data,isLoading:c.isPlaceholderData,addressHash:a,channel:s}),(null===(t=c.data)||void 0===t?void 0:t.is_verified)&&(0,r.jsx)(es,{data:c.data,isLoading:c.isPlaceholderData,addressHash:a}),B.length>1?(0,r.jsx)(g.A,{tabs:B,isLoading:S,variant:"radio_group",size:"sm",leftSlot:N,tabListProps:tk,leftSlotProps:tC}):(0,r.jsxs)(r.Fragment,{children:[N&&(0,r.jsx)(u.az,{mb:6,children:N}),(0,r.jsx)("div",{children:B[0].component})]})]})};var tA=a(54873),tS=a(87337),tz=a(97985),tL=a(14320),tB=a(20501),tI=a(79706),tN=a(99424),tT=a(56848),tM=a(77330),tD=a(44495),tE=a(75414),tF=a(22599);let tO=e=>"string"!=typeof e?BigInt(0):BigInt(e),tW=e=>"function"===e.type||"fallback"===e.type||"receive"===e.type,tR=e=>"function"===e.type&&(e.constant||"view"===e.stateMutability||"pure"===e.stateMutability),tP=e=>("function"===e.type||"fallback"===e.type||"receive"===e.type)&&!tR(e),tq=e=>{if("function"!==e.type)return e;try{return{...e,method_id:(0,tF.V)(e)}}catch(t){return{...e,is_invalid:!0}}},tH=e=>"name"in e?e.name:"fallback"===e.type?"fallback":"receive",tG=e=>e.filter(tW).map(tq).sort((e,t)=>{let a=tH(e),r=tH(t);return a.localeCompare(r)}),tU=[{value:"all",title:"All"},{value:"read",title:"Read"},{value:"write",title:"Write"}],tV=i.memo((0,f.B)(e=>{let{className:t,type:a,index:n,onClick:i,isDisabled:s}=e;return(0,r.jsx)(T.K,{className:t,"aria-label":a,"data-index":n,variant:"outline",w:"20px",h:"20px",flexShrink:0,onClick:i,icon:(0,r.jsx)(M.A,{name:"remove"===a?"minus":"plus",boxSize:3}),isDisabled:s})})),t$=i.memo(e=>{let{label:t,level:a,children:n,onAddClick:i,onRemoveClick:s,index:o,isInvalid:l}=e,c=(0,I.dU)("blackAlpha.50","whiteAlpha.50"),d=(0,I.dU)("whiteAlpha.700","blackAlpha.700");return(0,r.jsx)(ez.n,{allowToggle:!0,w:"100%",bgColor:0===a?c:d,borderRadius:"base",children:(0,r.jsx)(eL.A,{_first:{borderTopWidth:0},_last:{borderBottomWidth:0},children:e=>{let{isExpanded:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eB.J,{as:"div",cursor:"pointer",px:"6px",py:"6px",wordBreak:"break-all",textAlign:"left",_hover:{bgColor:"inherit"},children:[(0,r.jsx)(tN.Q,{transform:a?"rotate(0deg)":"rotate(-90deg)",color:"gray.500"}),(0,r.jsx)(u.az,{fontSize:"sm",lineHeight:5,fontWeight:700,mr:"auto",ml:1,color:l?"error":void 0,children:t}),s&&(0,r.jsx)(tV,{index:o,onClick:s,type:"remove"}),i&&(0,r.jsx)(tV,{index:o,onClick:i,type:"add",ml:2})]}),(0,r.jsx)(eI.v,{display:"flex",flexDir:"column",rowGap:1,pl:"18px",pr:"6px",children:n})]})}})})});var tK=a(18938),tJ=a(32434),tY=a(57049),tQ=a(46513);let tZ=i.memo(e=>{let{onClick:t,isDisabled:a}=e,{address:n}=(0,tQ.A)(),s=i.useCallback(()=>{n&&t(n)},[n,t]);return(0,r.jsx)(N.m,{label:n?void 0:"Connect your wallet to enter your address.",children:(0,r.jsx)(C.$,{variant:"subtle",colorScheme:"gray",size:"xs",fontSize:"normal",fontWeight:500,ml:1,onClick:s,isDisabled:a||!n,children:"Self"})})}),tX=i.memo(e=>{let{data:t,isOptional:a,level:n}=e,i=(0,I.dU)("blackAlpha.600","whiteAlpha.600");return(0,r.jsx)(u.az,{w:"250px",fontSize:"sm",lineHeight:5,py:"6px",flexShrink:0,fontWeight:500,color:n>1?i:void 0,children:tr(t,!a)})});var t0=a(9848),t1=a(55462);let t2=i.memo(e=>{let{onClick:t,isDisabled:a,initialValue:n,onChange:s}=e,[o,l]=i.useState(n),[c,d]=i.useState(),{isOpen:u,onToggle:m,onClose:h}=(0,H.j)(),p=(0,I.dU)("blackAlpha.200","whiteAlpha.200"),g=i.useCallback(e=>{let t=Number(e.currentTarget.getAttribute("data-id"));Object.is(t,NaN)||(l(e=>e===t?void 0:t),d(void 0),h(),s(t))},[h,s]),x=i.useCallback(e=>{let t=Number(e.target.value);d(t),l(void 0),s(t)},[s]),b=o||c,v=i.useCallback(()=>{b&&t(b)},[t,b]);return(0,r.jsxs)(r.Fragment,{children:[!!b&&(0,r.jsxs)(C.$,{px:1,lineHeight:6,h:6,fontWeight:500,ml:1,variant:"subtle",colorScheme:"gray",display:"inline",onClick:v,isDisabled:a,borderBottomRightRadius:0,borderTopRightRadius:0,children:[eS.Hn,(0,r.jsx)(f.B.span,{children:"10"}),(0,r.jsx)(f.B.span,{fontSize:"xs",lineHeight:4,verticalAlign:"super",children:b})]}),(0,r.jsxs)(th.A,{placement:"bottom-end",isLazy:!0,isOpen:u,onClose:h,children:[(0,r.jsx)(td.W,{children:(0,r.jsx)(C.$,{variant:"subtle",colorScheme:"gray",size:"xs",cursor:"pointer",p:0,onClick:m,isActive:u,isDisabled:a,borderBottomLeftRadius:0,borderTopLeftRadius:0,borderLeftWidth:"1px",borderLeftColor:p,children:(0,r.jsx)(M.A,{name:"arrows/east-mini",transitionDuration:"fast",transitionProperty:"transform",transitionTimingFunction:"ease-in-out",transform:u?"rotate(90deg)":"rotate(-90deg)",boxSize:6})})}),(0,r.jsx)(t0.Z,{children:(0,r.jsx)(tu.h,{w:"110px",children:(0,r.jsx)(tm.e,{py:2,children:(0,r.jsxs)(t1.B8,{children:[[8,12,16,18,20].map(e=>(0,r.jsxs)(t1.ck,{py:2,"data-id":e,onClick:g,display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",children:[(0,r.jsxs)("span",{children:["10*",e]}),o===e&&(0,r.jsx)(M.A,{name:"check",boxSize:6,color:"blue.600"})]},e)),(0,r.jsxs)(t1.ck,{py:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)("span",{children:"10*"}),(0,r.jsx)(eR.p,{type:"number",min:0,max:100,ml:3,size:"xs",onChange:x,value:c||""})]})]})})})})]})]})});var t5=a(29873),t6=a(64569),t3=a(46394);let t4=/time|deadline|expiration|expiry/i,t8=i.memo((0,f.B)(e=>{let{data:t,hideLabel:a,path:n,className:s,isDisabled:o,isOptional:l,level:c}=e,d=i.useRef(),[m,h]=i.useState(18),p="native_coin"===t.fieldType,g=l||p,b=i.useMemo(()=>te(t.type),[t.type]),f=i.useMemo(()=>t4.test(t.name||""),[t.name]),v=function(e){let{isOptional:t,argType:a,argTypeMatchInt:r}=e,n=i.useMemo(()=>a.match(e8),[a]);return i.useCallback(e=>{if(void 0===e||""===e)return!!t||"Field is required";if("address"===a)return"string"==typeof e&&(0,t5.P)(e)?e===e.toLowerCase()||(0,t6.b)(e)===e||"Invalid address checksum":"Invalid address format";if(r){let t=(()=>{try{return BigInt(e)}catch(e){return null}})();if("string"!=typeof e||null===t)return"Invalid integer format";if(t>r.max||t<r.min){let e=r.isUnsigned?"0":"-1 * 2 ^ ".concat(Number(r.power)-1),t=r.isUnsigned?"2 ^ ".concat(r.power," - 1"):"2 ^ ".concat(Number(r.power)-1," - 1");return'Value should be in range from "'.concat(e,'" to "').concat(t,'" inclusively')}return!0}if("bool"===a&&"boolean"!=typeof e)return"Invalid boolean format. Allowed values: true, false";if(n){let[,t]=n;if(!(0,t3.q)(e))return"Invalid bytes format";if(t)return e.replace("0x","").length/2===Number(t)||"Value should be ".concat(t," bytes in length")}return!0},[t,a,r,n])}({isOptional:g,argType:t.type,argTypeMatchInt:b}),y=function(e){let{argType:t,argTypeMatchInt:a}=e;return i.useCallback(e=>{if(e){if(a)return e.replace(/\s/g,"");if("bool"===t)switch(e.toLowerCase()){case"true":return!0;case"false":return!1}return e}},[t,a])}({argType:t.type,argTypeMatchInt:b}),{control:j,setValue:_,getValues:k}=(0,$.xW)(),{field:w,fieldState:A}=(0,$.as)({control:j,name:n,rules:{validate:v}}),S=(0,I.dU)("white","black"),z=(0,I.dU)("gray.100","gray.700"),L=b&&Number(b.power)>=64;i.useImperativeHandle(w.ref,()=>d.current);let B=i.useCallback(e=>{let t=y(e.target.value);w.onChange(t),_(n,t)},[w,n,_,y]),N=i.useCallback(()=>{var e;_(n,""),null===(e=d.current)||void 0===e||e.focus()},[n,_]),T=i.useCallback(e=>{let t=Array(e).fill("0").join(""),a=k(n);_(n,y(a?a+t:"1"+t),{shouldValidate:!0})},[y,k,n,_]),M=i.useCallback(()=>{b&&_(n,y(b.max.toString()),{shouldValidate:!0})},[y,n,_,b]),D=i.useCallback(e=>{_(n,y(e),{shouldValidate:!0})},[y,n,_]),E=i.useCallback(()=>{_(n,y(String(Math.floor((Date.now()+tD.dp)/tD.Z2))),{shouldValidate:!0})},[y,n,_]),F=i.useCallback(e=>{if(!b||!L)return;let t=Number(e.clipboardData.getData("text"));if(Object.is(t,NaN)||!(Number.isFinite(t)&&!Number.isInteger(t))||(e.preventDefault(),w.value))return;let a=y((t*10**m).toString());w.onChange(a),_(n,a,{shouldValidate:!0}),window.setTimeout(()=>{var e;null===(e=d.current)||void 0===e||e.setSelectionRange(100,100)},100)},[b,L,m,y,w,_,n]),O=A.error;return(0,r.jsxs)(x.s,{className:s,flexDir:{base:"column",md:"row"},alignItems:"flex-start",columnGap:3,w:"100%",bgColor:p?z:void 0,borderRadius:"base",px:"6px",py:p?1:0,children:[!a&&(0,r.jsx)(tX,{data:t,isOptional:g,level:c}),(0,r.jsxs)(tK.MJ,{isDisabled:o,children:[(0,r.jsxs)(eW.M,{size:"xs",children:[(0,r.jsx)(eR.p,{...w,...b?{as:tJ.HG,thousandSeparator:" ",decimalScale:0,allowNegative:!b.isUnsigned,getInputRef:e=>{d.current=e}}:{},ref:d,onChange:B,onPaste:F,required:!g,isInvalid:!!O,placeholder:t.type,autoComplete:"off","data-1p-ignore":!0,bgColor:S,paddingRight:L?"120px":"40px"}),(0,r.jsxs)(eP.t,{w:"auto",right:1,bgColor:S,h:"calc(100% - 4px)",top:"2px",borderRadius:"base",children:[void 0!==w.value&&""!==w.value&&(0,r.jsx)(tY.A,{onClick:N,isDisabled:o}),"address"===t.type&&(0,r.jsx)(tZ,{onClick:D,isDisabled:o}),b&&!p&&(f?(0,r.jsx)(C.$,{variant:"subtle",colorScheme:"gray",size:"xs",fontSize:"normal",fontWeight:500,ml:1,onClick:E,isDisabled:o,children:"Now+1h"}):(0,r.jsx)(C.$,{variant:"subtle",colorScheme:"gray",size:"xs",fontSize:"normal",fontWeight:500,ml:1,onClick:M,isDisabled:o,children:"Max"})),L&&(0,r.jsx)(t2,{onClick:T,isDisabled:o,initialValue:m,onChange:h})]})]}),O&&(0,r.jsx)(u.az,{color:"error",fontSize:"sm",lineHeight:5,mt:1,children:O.message})]})]})})),t7=e=>{var t;let{data:a,basePath:n,level:i,isDisabled:s,isOptional:o,...l}=e,{formState:{errors:c}}=(0,$.xW)(),d=Object.keys(c).some(e=>e.startsWith(n));return"components"in a?(0,r.jsx)(t$,{...l,level:i,label:tr(a),isInvalid:d,children:null===(t=a.components)||void 0===t?void 0:t.map((e,t)=>{if("components"in e&&"tuple"===e.type)return(0,r.jsx)(t7,{data:e,basePath:"".concat(n,":").concat(t),level:i+1,isDisabled:s,isOptional:o},t);let a=e9(e.type);return a?(0,r.jsx)(at,{data:e,basePath:"".concat(n,":").concat(t),level:"tuple"===a.itemType?i+1:i,isDisabled:s},t):(0,r.jsx)(t8,{data:e,path:"".concat(n,":").concat(t),isDisabled:s,isOptional:o,level:i},t)})}):null},t9=i.memo(t7),ae=e=>{let{data:t,level:a,basePath:n,onAddClick:s,onRemoveClick:o,index:l,isDisabled:c,isArrayElement:d}=e,{formState:{errors:u}}=(0,$.xW)(),m=Object.keys(u),h=m.some(e=>e.startsWith(n)),p=e9(t.type),g=null!==p&&p.size!==1/0,[b,f]=i.useState(g?Array(p.size).fill(0).map((e,t)=>t):[0]),v=i.useCallback(e=>{e.preventDefault(),f(e=>[...e,e[e.length-1]+1])},[]),y=i.useCallback(e=>{e.preventDefault();let t=e.currentTarget.getAttribute("data-index");t&&f(e=>e.filter(e=>e!==Number(t)))},[]);if(null==p?void 0:p.isNested)return(0,r.jsx)(r.Fragment,{children:b.map((e,i)=>{let s=tt(t,i),o="".concat(n,":").concat(e),l=m.some(e=>e.startsWith(o));return(0,r.jsx)(t$,{level:a+1,label:tr(s),isInvalid:l,onAddClick:g||i!==b.length-1?void 0:v,onRemoveClick:!g&&b.length>1?y:void 0,index:e,children:(0,r.jsx)(ae,{data:s,basePath:o,level:a+1,isDisabled:c,isArrayElement:!0},e)},e)})});if(null==p?void 0:p.itemType.includes("tuple")){let e=(0,r.jsx)(r.Fragment,{children:b.map((e,i)=>{let s=tt(t,i);return(0,r.jsx)(t9,{data:s,basePath:"".concat(n,":").concat(e),level:a+1,onAddClick:g||i!==b.length-1?void 0:v,onRemoveClick:!g&&b.length>1?y:void 0,index:e,isDisabled:c,isOptional:1===b.length},e)})});return d?e:(0,r.jsx)(t$,{level:a,label:tr(t),onAddClick:s,onRemoveClick:o,index:l,isInvalid:h,children:e})}return(0,r.jsxs)(x.s,{flexDir:{base:"column",md:"row"},alignItems:"flex-start",columnGap:3,px:"6px",children:[!d&&(0,r.jsx)(tX,{data:t,level:a,isOptional:1===b.length}),(0,r.jsx)(x.s,{flexDir:"column",rowGap:1,w:"100%",children:b.map((e,i)=>{let s=tt(t,i);return(0,r.jsxs)(x.s,{alignItems:"flex-start",columnGap:3,children:[(0,r.jsx)(t8,{data:s,hideLabel:!0,path:"".concat(n,":").concat(i),level:a,px:0,isDisabled:c,isOptional:1===b.length}),!g&&b.length>1&&(0,r.jsx)(tV,{index:e,onClick:y,type:"remove",my:"6px"}),!g&&i===b.length-1&&(0,r.jsx)(tV,{index:e,onClick:v,type:"add",my:"6px"})]},e)})})]})},at=i.memo(ae),aa=i.memo(e=>{let{abiParameter:t}=e;return(0,r.jsxs)(r.Fragment,{children:[t.name&&(0,r.jsxs)(f.B.span,{fontWeight:500,children:[t.name," "]}),(0,r.jsxs)("span",{children:["(",t.type,") : "]})]})});var ar=a(60346);let an=e=>" ".repeat(2*e);function ai(e){switch(typeof e){case"string":return""===e?'""':e;case"undefined":return"";case"number":return e.toLocaleString(void 0,{useGrouping:!1});case"bigint":return e.toString();default:return String(e)}}let as=i.memo(e=>{let{abiParameter:t,data:a,level:n,hideLabel:i}=e,s=(()=>{if("address"===t.type&&"string"==typeof a)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k.A,{href:(0,v.w)({pathname:"/address/[hash]",query:{hash:a}}),children:a}),(0,r.jsx)(B.A,{text:a,size:4,verticalAlign:"sub"})]});let e=te(t.type);if(e&&"bigint"==typeof a&&e.max>1e9&&a>1e9){let e=(0,ar.A)(a.toString()).div(tD.M$);return(0,r.jsx)(N.m,{label:e.toLocaleString()+" ETH",children:(0,r.jsx)("span",{children:ai(a)})})}return(0,r.jsx)("span",{children:ai(a)})})();return(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:an(n)}),!i&&(0,r.jsx)(aa,{abiParameter:t}),s]})}),ao=i.memo(e=>{let{abiParameter:t,data:a,mode:n,level:i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:an(i)}),(0,r.jsx)(f.B.span,{fontWeight:500,children:t.name||t.internalType}),(0,r.jsxs)("span",{children:[" ","{"]})]}),"components"in t&&t.components.map((e,t)=>{let s="object"!=typeof a||null===a?void 0:Array.isArray(a)?a[t]:e.name&&e.name in a?a[e.name]:void 0;return(0,r.jsx)(ad,{abiParameter:e,data:s,mode:n,level:i+1},t)}),(0,r.jsxs)("p",{children:[an(i),"}"]})]})}),al=e=>{let{abiParameter:t,data:a,level:n,arrayMatch:s,mode:o}=e,l=i.useMemo(()=>{var e;let a=s.itemType,r=null===(e=e9(t.internalType||""))||void 0===e?void 0:e.itemType;return{...t,type:a,internalType:r}},[t,s.itemType]),c=(()=>{if(s.isNested&&a.every(Array.isArray)){let e=e9(s.itemType);if(e)return a.map((t,a)=>(0,r.jsx)(al,{abiParameter:l,data:t,mode:o,arrayMatch:e,level:n+1},a))}return"tuple"===s.itemType?a.map((e,t)=>(0,r.jsx)(ao,{abiParameter:l,data:e,mode:o,level:n+1},t)):a.map((e,t)=>(0,r.jsx)(as,{abiParameter:l,data:e,level:n+1,hideLabel:!0},t))})();return(0,r.jsxs)("p",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:an(n)}),(0,r.jsx)(aa,{abiParameter:t}),(0,r.jsxs)("span",{children:["[",0===a.length?" ]":""]})]}),c,a.length>0&&(0,r.jsxs)("p",{children:[an(n),"]"]})]})},ac=i.memo(al),ad=i.memo(e=>{let{abiParameter:t,data:a,mode:n,level:s=0}=e,o=i.useMemo(()=>e9(t.type),[t.type]);if(o){if(!Array.isArray(a)){if("tuple"===o.itemType&&"preview"===n&&"components"in t){let e=Object.fromEntries(t.components.map(e=>{let{name:t}=e;return[null!=t?t:"",void 0]}));return(0,r.jsx)(ac,{abiParameter:t,data:[e],mode:n,level:s,arrayMatch:o})}return(0,r.jsx)(as,{abiParameter:t,data:a||("preview"===n?void 0:"[ ]"),level:s})}return(0,r.jsx)(ac,{abiParameter:t,data:a,level:s,mode:n,arrayMatch:o})}return t.type.includes("tuple")?(0,r.jsx)(ao,{abiParameter:t,data:a,mode:n,level:s}):(0,r.jsx)(as,{abiParameter:t,data:a,level:s})}),au=i.memo(e=>{let{data:t,abiItem:a,onSettle:n,mode:s}=e,o=(0,I.dU)("blackAlpha.50","whiteAlpha.50");i.useEffect(()=>{"result"===s&&n()},[n,s]);let l=a.outputs.length>1&&Array.isArray(t)?t:[t],c=t instanceof Error,d=c?"preview":s;return(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)(b.F,{status:"error",mt:3,p:4,borderRadius:"md",fontSize:"sm",wordBreak:"break-word",whiteSpace:"pre-wrap",children:"shortMessage"in t&&"string"==typeof t.shortMessage?t.shortMessage:t.message}),(0,r.jsx)(x.s,{flexDir:"column",rowGap:2,mt:3,p:4,borderRadius:"md",bgColor:o,color:"preview"===d?"gray.500":void 0,fontSize:"sm",lineHeight:"20px",whiteSpace:"break-spaces",wordBreak:"break-all",children:a.outputs.map((e,t)=>(0,r.jsx)(ad,{abiParameter:e,data:c?void 0:l[t],mode:d},t))})]})});var am=a(14084),ah=a(38819);let ap=e=>{let{data:t,onSettle:a,txInfo:n}=e,s=t&&"hash"in t?t.hash:void 0;if(i.useEffect(()=>{"pending"!==n.status&&a()},[a,n.status]),!t)return null;let o="message"in t,l=s?(0,r.jsx)(k.A,{href:(0,v.w)({pathname:"/tx/[hash]",query:{hash:s}}),children:"View transaction details"}):null,c=(()=>{if(o)return(0,r.jsx)(b.F,{status:"error",children:t.message});switch(n.status){case"success":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Transaction has been confirmed. "}),l]});case"pending":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(am.y,{size:"sm",mr:3}),(0,r.jsxs)(f.B.span,{verticalAlign:"text-bottom",children:["Waiting for transaction's confirmation. ",l]})]});case"error":return(0,r.jsxs)(b.F,{status:"error",flexDir:"column",alignItems:"flex-start",rowGap:1,children:["Error: ",n.error?n.error.message:"Something went wrong"," ",l]})}})();return(0,r.jsx)(u.az,{fontSize:"sm",mt:3,alignItems:"center",whiteSpace:"pre-wrap",wordBreak:"break-all",color:"error"===n.status||o?"error":void 0,children:c})},ag=i.memo(e=>{let{data:t,onSettle:a}=e,n=t&&"hash"in t?t.hash:void 0,i=(0,ah.g)({hash:n});return(0,r.jsx)(ap,{data:t,onSettle:a,txInfo:i})}),ax=i.memo(e=>{let{data:t,attempt:a,onSubmit:n,onReset:o,isOpen:l}=e,[c,d]=i.useState(),[m,h]=i.useState(!1),[p,g]=i.useState(),b=i.useRef(p),v=(0,$.mN)({mode:"all",shouldUnregister:!0}),y=(0,H.j)(),j=i.useCallback(e=>{let t=null==e?void 0:e.currentTarget.getAttribute("data-call-strategy");g(t),b.current=t,"copy_calldata"===t&&(y.onOpen(),window.setTimeout(()=>{y.onClose()},tD.Z2))},[y]),_=tR(t)?"read":"write",k=i.useCallback(async e=>{let a=function(e){let t=[];for(let a in e){let r=e[a];(0,e3.h)(t,a.replaceAll(":","."),r)}return(function e(t){return t.map(t=>Array.isArray(t)?e(t):t).filter(e=>void 0!==e)})(t).map(e=>Array.isArray(e)&&0===e.flat(1/0).filter(e=>!(void 0===e||""===e)).length?[]:e)}(e);if("copy_calldata"===b.current){if(!("name"in t)||!t.name)return;let e=(0,tM.p)({abi:[t],functionName:t.name,args:a.slice(0,t.inputs.length)});await navigator.clipboard.writeText(e);return}d(void 0),h(!0),n(t,a,b.current).then(e=>{d(e)}).catch(e=>{d({source:"write"===b.current?"wallet_client":"public_client",data:e}),h(!1)}).finally(()=>{tE.$s(tE.wf.CONTRACT_INTERACTION,{"Method type":"write"===_?"Write":"Read","Method name":"name"in t?t.name:"Fallback"})})},[t,_,n]);i.useEffect(()=>{l&&!b.current&&0===a&&tR(t)&&0===t.inputs.length&&(g("read"),b.current="read",k({}))},[t,l,k,a]);let w=i.useCallback(()=>{h(!1)},[]),A=i.useCallback(()=>{c&&d(void 0)},[c]),S=i.useMemo(()=>[..."inputs"in t&&t.inputs?t.inputs:[],..."stateMutability"in t&&"payable"===t.stateMutability?[{name:"Send native ".concat(s.A.chain.currency.symbol||"coin"),type:"uint256",internalType:"uint256",fieldType:"native_coin"}]:[]],[t]),z=(()=>{let e=!s.A.features.blockchainInteraction.isEnabled&&"write"===_,t="write"===_?"Write":"Read",a="write"===_?"write":"read";return(0,r.jsx)(N.m,{label:e?"Blockchain interaction is not available at the moment since WalletConnect is not configured for this application. Please contact the service maintainer to make necessary changes in the service configuration.":void 0,maxW:"300px",children:(0,r.jsx)(C.$,{isLoading:p===a&&m,isDisabled:m||e,onClick:j,loadingText:t,variant:"outline",size:"sm",flexShrink:0,width:"min-content",px:4,type:"submit","data-call-strategy":a,children:t})})})(),L=(()=>{if("read"===_||!("outputs"in t&&t.outputs.length>0))return null;let e="Simulate",a="simulate";return(0,r.jsx)(C.$,{isLoading:p===a&&m,isDisabled:m,onClick:j,loadingText:e,variant:"outline",size:"sm",flexShrink:0,width:"min-content",px:4,mr:3,type:"submit","data-call-strategy":a,children:e})})(),B=(()=>{if(0===S.length)return null;if(1===S.length){let[e]=S;if("fieldType"in e&&"native_coin"===e.fieldType)return null}let e="Copy calldata",t="copy_calldata",a=m||!v.formState.isValid;return(0,r.jsx)(N.m,{isDisabled:a,label:"Copied",closeDelay:tD.Z2,isOpen:y.isOpen,onClose:y.onClose,children:(0,r.jsx)(C.$,{isLoading:p===t&&m,isDisabled:a,onClick:j,loadingText:e,variant:"outline",size:"sm",flexShrink:0,width:"min-content",px:4,ml:3,type:"submit","data-call-strategy":t,children:e})})})();return(0,r.jsxs)(u.az,{children:[(0,r.jsx)($.Op,{...v,children:(0,r.jsxs)(f.B.form,{noValidate:!0,onSubmit:v.handleSubmit(k),onChange:A,children:[(0,r.jsx)(x.s,{flexDir:"column",rowGap:3,mb:6,_empty:{display:"none"},children:S.map((e,t)=>{let a={data:e,basePath:"".concat(t),isDisabled:m,level:0};if("components"in e&&e.components&&"tuple"===e.type)return(0,r.jsx)(t9,{...a},t);let n=e9(e.type);if(n){if(n.isNested){let n=Object.keys(v.formState.errors).some(e=>e.startsWith(t+":"));return(0,r.jsx)(t$,{level:0,label:tr(e),isInvalid:n,children:(0,r.jsx)(at,{...a})},t)}return(0,r.jsx)(at,{...a},t)}return(0,r.jsx)(t8,{...a,path:"".concat(t)},t)})}),L,z,B,c&&!m&&(0,r.jsxs)(C.$,{variant:"simple",colorScheme:"blue",size:"sm",onClick:o,ml:1,children:[(0,r.jsx)(M.A,{name:"repeat",boxSize:5,mr:1}),"Reset"]})]})}),c&&"wallet_client"===c.source&&(0,r.jsx)(ag,{data:c.data,onSettle:w}),"outputs"in t&&t.outputs.length>0&&(0,r.jsx)(au,{data:c&&"public_client"===c.source?c.data:void 0,onSettle:w,abiItem:t,mode:c&&"public_client"===c.source?"result":"preview"})]})}),ab=e=>"method_id"in e?e.method_id:"name"in e?e.name:e.type,af=e=>"method_".concat(ab(e)),av=i.memo(e=>{let{data:t,index:a,id:n,addressHash:o,sourceAddress:l,tab:c,onSubmit:d,isVisible:m=!0}=e,[h,p]=i.useState(0),g=i.useMemo(()=>s.A.app.baseUrl+(0,v.w)({pathname:"/address/[hash]",query:{hash:null!=o?o:"",tab:c,...l?{source_address:l}:{}},hash:ab(t)}),[o,t,c,l]),x=i.useCallback(()=>{p(e=>e+1)},[]),f=tR(t);return(0,r.jsx)(eL.A,{as:"section",_first:{borderTopWidth:0},_last:{borderBottomWidth:0},display:m?"block":"none",children:e=>{let{isExpanded:i}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tT.Hg,{as:"h2",name:af(t),children:(0,r.jsxs)(eB.J,{px:0,py:3,_hover:{bgColor:"inherit"},wordBreak:"break-all",textAlign:"left",as:"div",cursor:"pointer",display:"flex",alignItems:"center",columnGap:2,children:[(0,r.jsx)(B.A,{text:g,type:"link",ml:0,color:"text_secondary"}),(0,r.jsxs)(u.az,{as:"div",fontWeight:500,display:"flex",alignItems:"center",children:[a+1,". ","fallback"===t.type||"receive"===t.type?t.type:t.name,"fallback"===t.type&&(0,r.jsx)(er.A,{label:"The fallback function is executed on a call to the contract if none of the other functions match \n                    the given function signature, or if no data was supplied at all and there is no receive Ether function. \n                    The fallback function always receives data, but in order to also receive Ether it must be marked payable.",ml:1}),"receive"===t.type&&(0,r.jsx)(er.A,{label:"The receive function is executed on a call to the contract with empty calldata. \n                    This is the function that is executed on plain Ether transfers (e.g. via .send() or .transfer()). \n                    If no such function exists, but a payable fallback function exists, the fallback function will be called on a plain Ether transfer. \n                    If neither a receive Ether nor a payable fallback function is present, \n                    the contract cannot receive Ether through regular transactions and throws an exception.",ml:1})]}),(0,r.jsx)(tI.vw,{colorScheme:f?"black-purple":"black-blue",flexShrink:0,children:f?"read":"write"}),"method_id"in t&&(0,r.jsxs)(tI.vw,{display:"inline-flex",alignItems:"center",flexShrink:0,children:[t.method_id,(0,r.jsx)(B.A,{text:t.method_id})]}),(0,r.jsx)(tN.Q,{transform:i?"rotate(0deg)":"rotate(-90deg)",color:"gray.500"})]})}),(0,r.jsx)(eI.v,{pb:4,pr:0,pl:"28px",w:"calc(100% - 6px)",children:"is_invalid"in t&&t.is_invalid?(0,r.jsx)(b.F,{status:"warning",children:"An error occurred while parsing the method signature."}):(0,r.jsx)(ax,{data:t,attempt:h,onSubmit:d,onReset:x,isOpen:i},n+"_"+a+"_"+h)})]})}})});var ay=a(94014);function aj(){let e=(0,ay.e)({chainId:Number(s.A.chain.id)}),{address:t}=(0,tQ.A)();return i.useCallback(async a=>{let{args:r,item:n,addressHash:i,strategy:s}=a;if(!("name"in n))throw Error("Unknown contract method");if(!e)throw Error("Public Client is not defined");let o=(0,t6.b)(i),l=r.slice(0,n.inputs.length),c=tO(r[n.inputs.length]),d={abi:[n],functionName:n.name,args:l,address:o,account:t,value:c},u="read"===s?await e.readContract(d):await e.simulateContract(d);return{source:"public_client",data:"read"===s?u:u.result}},[t,e])}var a_=a(11162),ak=a(78639),aC=a(1624);let aw=s.A.features.blockchainInteraction.isEnabled?function(e){let{addressHash:t}=e,a=function(){let{data:e}=(0,a_.G)(),{isConnected:t,chainId:a,address:r}=(0,ak.F)(),{switchChainAsync:n}=(0,aC.R)();return i.useCallback(async i=>{let{args:o,item:l,addressHash:c}=i;if(!t)throw Error("Wallet is not connected");if(!e)throw Error("Wallet Client is not defined");a&&String(a)!==s.A.chain.id&&await (null==n?void 0:n({chainId:Number(s.A.chain.id)}));let d=(0,t6.b)(c);if("receive"===l.type||"fallback"===l.type){let t=tO(o[0]);return{source:"wallet_client",data:{hash:await e.sendTransaction({to:d,value:t})}}}let u=l.name;if(!u)throw Error("Method name is not defined");let m=o.slice(0,l.inputs.length),h=tO(o[l.inputs.length]);return{source:"wallet_client",data:{hash:await e.writeContract({args:m,abi:[l],functionName:u,address:d,value:h,account:r})}}},[a,t,n,e,r])}(),r=aj();return i.useCallback(async(e,n,i)=>{switch(i){case"read":case"simulate":return r({args:n,item:e,addressHash:t,strategy:i});case"write":return a({args:n,item:e,addressHash:t});default:throw Error('Unknown call strategy "'.concat(i,'"'))}},[t,a,r])}:function(e){let{addressHash:t}=e,a=aj();return i.useCallback(async(e,r,n)=>{switch(n){case"read":case"simulate":return a({args:r,item:e,addressHash:t,strategy:n});default:throw Error('Unknown call strategy "'.concat(n,'"'))}},[a,t])},aA=i.memo(e=>{let{abi:t,addressHash:a,sourceAddress:n,tab:s,visibleItems:o}=e,[l,c]=i.useState(1===t.length?[0]:[]),[d,m]=i.useState(0);!function(e,t){i.useEffect(()=>{let a=window.location.hash.replace("#","");if(!a)return;let r=e.findIndex(e=>ab(e)===a);r>-1&&(tT.XG.scrollTo(af(e[r]),{duration:500,smooth:!0,offset:-100}),t([r]))},[e,t])}(t,c);let h=aw({addressHash:a}),p=i.useCallback(e=>{c(e)},[]),g=i.useCallback(()=>{t&&(l.length<t.length?c((0,tB.y)(0,t.length)):c([]))},[t,l.length]),b=i.useCallback(()=>{m(e=>e+1)},[]),f=!o||o.length>0;return(0,r.jsxs)("div",{children:[(0,r.jsxs)(x.s,{mb:3,children:[(0,r.jsx)(u.az,{fontWeight:500,mr:"auto",children:"Contract information"}),t.length>1&&(0,r.jsxs)(tL.N,{onClick:g,children:[l.length===t.length?"Collapse":"Expand"," all"]}),(0,r.jsx)(tL.N,{onClick:b,ml:3,children:"Reset"})]}),(0,r.jsx)(ez.n,{allowMultiple:!0,position:"relative",onChange:p,index:l,children:t.map((e,t)=>(0,r.jsx)(av,{id:d,index:t,data:e,isVisible:!o||o.includes(t),addressHash:a,sourceAddress:n,tab:s,onSubmit:h},t))}),!f&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["Couldn",eS.wA,"t find any method that matches your query."]}),(0,r.jsxs)("div",{children:["You can use custom ABI for this contract without verifying the contract in the"," ",(0,r.jsx)(k.A,{href:(0,v.w)({pathname:"/address/[hash]",query:{hash:a,tab:"read_write_custom_methods"}}),scroll:!1,children:"Custom ABI"})," ","tab."]})]})]})});var aS=a(96386);let az=s.A.features.blockchainInteraction.isEnabled?e=>{let{isLoading:t}=e,a=(0,aS.A)({source:"Smart contracts"}),n=(0,eu.A)(),i=a.isConnected?(0,r.jsxs)(x.s,{columnGap:3,rowGap:3,alignItems:{base:"flex-start",lg:"center"},flexDir:{base:"column",lg:"row"},children:[(0,r.jsxs)(x.s,{alignItems:"center",children:[(0,r.jsx)("span",{children:"Connected to "}),(0,r.jsx)(j.Ay,{address:{hash:a.address||""},truncation:n?"constant":"dynamic",fontWeight:600,ml:2,noAltHash:!0})]}),(0,r.jsx)(C.$,{onClick:a.disconnect,size:"sm",variant:"outline",children:"Disconnect"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Disconnected"}),(0,r.jsx)(C.$,{ml:3,onClick:a.connect,size:"sm",variant:"outline",isLoading:a.isOpen,loadingText:"Connect wallet",children:"Connect wallet"})]});return(0,r.jsx)(y.A,{isLoaded:!t,children:(0,r.jsx)(b.F,{status:a.address?"success":"warning",children:i})})}:()=>null,aL=i.memo(e=>{let{isLoading:t}=e;return(0,r.jsx)(y.A,{isLoaded:!t,children:(0,r.jsx)(b.F,{status:"warning",children:"Note: Contract with custom ABI is only meant for debugging purpose and it is the user’s responsibility to ensure that the provided ABI matches the contract, otherwise errors may occur or results returned may be incorrect. Blockscout is not responsible for any losses that arise from the use of Read & Write contract."})})}),aB=i.memo(e=>{let{isLoading:t,isError:a,isEmpty:n,type:i,children:s}=e;return t?(0,r.jsx)(ef.A,{w:"fit-content"}):a?(0,r.jsx)(p.A,{}):n?(0,r.jsxs)("span",{children:["No public ","all"===i?"":i," functions were found for this contract."]}):s});var aI=a(50128),aN=a(26861);let aT=i.memo(e=>{let{defaultMethodType:t,defaultSearchTerm:a,onChange:n,isLoading:s}=e,o=i.useCallback(e=>{n({type:"method_type",value:e})},[n]),l=i.useCallback(e=>{n({type:"method_name",value:e})},[n]);return(0,r.jsxs)(x.s,{columnGap:3,rowGap:3,flexDir:{base:"column",lg:"row"},children:[(0,r.jsx)(aN.A,{name:"contract-methods-filter",defaultValue:t,options:tU,onChange:o,w:{lg:"fit-content"},isLoading:s}),(0,r.jsx)(aI.A,{initialValue:a,onChange:l,placeholder:"Search by method name",w:{base:"100%",lg:"450px"},size:"xs",isLoading:s})]})});var aM=a(42075);let aD=[["read_write_contract","read_contract","write_contract"],["read_write_proxy","read_proxy","write_proxy"],["read_write_custom_methods","read_custom_methods","write_custom_methods"]];function aE(e){let{abi:t}=e,a=(0,n.useRouter)(),r=(0,l.A)(a.query.tab),[s,o]=i.useState(function(e){switch(e){case"read_contract":case"read_proxy":case"read_custom_methods":return"read";case"write_contract":case"write_proxy":case"write_custom_methods":return"write";default:return"all"}}(r)),[c,d]=i.useState(""),u=i.useCallback(e=>{var t;let r=(0,l.A)(a.query.tab),n=tU.findIndex(t=>{let{value:a}=t;return a===e}),i=null===(t=aD.find(e=>e.includes(r)))||void 0===t?void 0:t[n];if(!i)return;let s=(0,aM.f)(a.query,(e,t)=>a.pathname.includes("[".concat(t,"]")));a.push({pathname:a.pathname,query:{...s,tab:i}},void 0,{shallow:!0})},[a]),m=i.useCallback(e=>{"method_type"===e.type?(o(e.value),u(e.value)):"method_name"===e.type&&d(e.value)},[u]);return i.useMemo(()=>{let e=(()=>{switch(s){case"all":return()=>!0;case"read":return tR;case"write":return tP}})(),a=e=>{let t=c.toLowerCase().trim();return""===t||("fallback"===e.type?"fallback".includes(t):"receive"===e.type?"receive".includes(t):e.name.toLowerCase().includes(t))};return{methodType:s,searchTerm:c,onChange:m,visibleItems:t.map((t,r)=>e(t)&&a(t)?r:-1).filter(e=>-1!==e)}},[s,c,m,t])}let aF=i.memo(e=>{var t;let{isLoading:a}=e,s=(0,H.j)(),c=(0,n.useRouter)(),d=(0,m.jE)(),u=(0,l.A)(c.query.tab),h=(0,l.A)(c.query.hash),p=(0,tz.A)(),g=(0,o.A)("custom_abi",{queryOptions:{enabled:!a&&p,refetchOnMount:!1}}),b=d.getQueryData((0,o.y)("contract",{pathParams:{hash:h}})),f=a||p&&g.isLoading,v=null===(t=g.data)||void 0===t?void 0:t.find(e=>e.contract_address_hash.toLowerCase()===h.toLowerCase()),j=null!=v?v:b?{name:b.name||"",contract_address_hash:h}:void 0,_=i.useMemo(()=>tG((null==v?void 0:v.abi)||[]),[v]),k=aE({abi:_}),w=i.useMemo(()=>(0,r.jsx)(y.A,{isLoaded:!f,ml:"auto",mr:"3",borderRadius:"base",children:(0,r.jsx)(C.$,{size:"sm",variant:"outline",onClick:s.onOpen,children:"Update"})}),[f,s.onOpen]);return(0,r.jsxs)(x.s,{flexDir:"column",rowGap:6,children:[v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(x.s,{flexDir:"column",rowGap:2,children:[(0,r.jsx)(az,{isLoading:f}),(0,r.jsx)(aL,{isLoading:f})]}),(0,r.jsx)(e6.A,{data:JSON.stringify(_),title:"Contract ABI",textareaMaxHeight:"150px",isLoading:f,rightSlot:w}),(0,r.jsx)(aT,{defaultMethodType:k.methodType,defaultSearchTerm:k.searchTerm,onChange:k.onChange,isLoading:f}),(0,r.jsx)(aB,{isLoading:f,isEmpty:0===_.length,type:k.methodType,children:(0,r.jsx)(aA,{abi:_,tab:u,addressHash:h,visibleItems:k.visibleItems})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.A,{isLoaded:!f,children:"Add custom ABIs for this contract and access when logged into your account. Helpful for debugging, functional testing and contract interaction."}),(0,r.jsx)(tS.A,{onAuthSuccess:s.onOpen,children:e=>{let{onClick:t}=e;return(0,r.jsx)(y.A,{isLoaded:!f,w:"fit-content",children:(0,r.jsx)(C.$,{size:"sm",onClick:t,children:"Add custom ABI"})})}})]}),(0,r.jsx)(tA.A,{...s,data:j})]})}),aO=i.memo(e=>{var t;let{items:a}=e,s=(0,n.useRouter)(),c=(0,l.A)(s.query.hash),d=(0,l.A)(s.query.source_address),u=(0,l.A)(s.query.tab),[m,h]=i.useState(a.find(e=>e.address===d)||a[0]),p=(0,o.A)("contract_mud_system_info",{pathParams:{hash:c,system_address:m.address},queryOptions:{enabled:!!(null==m?void 0:m.address),refetchOnMount:!1}}),g=i.useCallback(e=>{h(e)},[]),b=i.useMemo(()=>{var e;return tG((null===(e=p.data)||void 0===e?void 0:e.abi)||[])},[null===(t=p.data)||void 0===t?void 0:t.abi]),f=aE({abi:b});return(0,r.jsxs)(x.s,{flexDir:"column",rowGap:6,children:[(0,r.jsx)(az,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)(F,{items:a,selectedItem:m,onItemSelect:g,label:"System address",mb:3}),(0,r.jsx)(aT,{defaultMethodType:f.methodType,defaultSearchTerm:f.searchTerm,onChange:f.onChange})]}),(0,r.jsx)(aB,{isLoading:p.isPending,isEmpty:0===b.length,type:f.methodType,isError:p.isError,children:(0,r.jsx)(aA,{abi:b,tab:u,addressHash:c,visibleItems:f.visibleItems,sourceAddress:m.address})},m.address)]})}),aW=i.memo(e=>{var t;let{implementations:a,isLoading:s,proxyType:c}=e,d=(0,n.useRouter)(),u=(0,l.A)(d.query.source_address),m=(0,l.A)(d.query.tab),h=(0,l.A)(d.query.hash),[p,g]=i.useState(a.find(e=>e.address===u)||a[0]),b=(0,o.A)("contract",{pathParams:{hash:p.address},queryOptions:{enabled:!!p.address,refetchOnMount:!1}}),f=i.useMemo(()=>{var e;return tG((null===(e=b.data)||void 0===e?void 0:e.abi)||[])},[null===(t=b.data)||void 0===t?void 0:t.abi]),v=aE({abi:f});return(0,r.jsxs)(x.s,{flexDir:"column",rowGap:6,children:[(0,r.jsx)(az,{isLoading:s}),(0,r.jsxs)("div",{children:[(0,r.jsx)(F,{items:a,selectedItem:p,onItemSelect:g,isLoading:s,label:"eip7702"===c?"Delegate address":"Implementation address",mb:3}),(0,r.jsx)(aT,{defaultMethodType:v.methodType,defaultSearchTerm:v.searchTerm,onChange:v.onChange,isLoading:s})]}),(0,r.jsx)(aB,{isLoading:s||b.isPending,isEmpty:0===f.length,type:v.methodType,isError:b.isError,children:(0,r.jsx)(aA,{abi:f,tab:m,addressHash:h,visibleItems:v.visibleItems,sourceAddress:p.address})},p.address)]})}),aR=i.memo(e=>{let{abi:t,isLoading:a}=e,s=(0,n.useRouter)(),o=(0,l.A)(s.query.tab),c=(0,l.A)(s.query.hash),d=i.useMemo(()=>tG(t),[t]),u=aE({abi:d});return(0,r.jsxs)(x.s,{flexDir:"column",rowGap:6,children:[(0,r.jsx)(az,{isLoading:a}),(0,r.jsx)(aT,{defaultMethodType:u.methodType,defaultSearchTerm:u.searchTerm,onChange:u.onChange,isLoading:a}),(0,r.jsx)(aB,{isLoading:a,isEmpty:0===d.length,type:u.methodType,children:(0,r.jsx)(aA,{abi:d,tab:o,addressHash:c,visibleItems:u.visibleItems})})]})});var aP=a(86561);function aq(e,t){var a,u;let m=arguments.length>2&&void 0!==arguments[2]&&arguments[2],[h,p]=i.useState(!1),g=(0,n.useRouter)(),x=(0,l.A)(g.query.tab),b=!!(null==e?void 0:e.hash)&&(null==e?void 0:e.is_contract)&&!t&&aP.a$.concat("contract").includes(x),f=i.useCallback(()=>{p(!0)},[]),v=(0,o.A)("contract",{pathParams:{hash:null==e?void 0:e.hash},queryOptions:{enabled:b&&h,refetchOnMount:!1,placeholderData:(null==e?void 0:e.is_verified)?d.W5:d.zF}}),y=(0,o.A)("contract_mud_systems",{pathParams:{hash:null==e?void 0:e.hash},queryOptions:{enabled:b&&h&&m,refetchOnMount:!1,placeholderData:d.cP}}),j=(0,c.A)({topic:"addresses:".concat(null==e?void 0:null===(a=e.hash)||void 0===a?void 0:a.toLowerCase()),isDisabled:!b,onJoin:f,onSocketError:f}),_=i.useMemo(()=>{var t;return(null==e?void 0:null===(t=e.implementations)||void 0===t?void 0:t.filter(t=>{let{name:a,address:r}=t;return a&&r&&r!==(null==e?void 0:e.hash)}))||[]},[null==e?void 0:e.hash,null==e?void 0:e.implementations]);return i.useMemo(()=>{var t,a,n,i;return{tabs:[(null==e?void 0:e.hash)&&{id:"contract_code",title:"Code",component:(0,r.jsx)(tw,{mainContractQuery:v,channel:j,addressHash:e.hash}),subTabs:aP.DK},(null===(t=v.data)||void 0===t?void 0:t.abi)&&{id:["read_write_contract","read_contract","write_contract"],title:"Read/Write contract",component:(0,r.jsx)(aR,{abi:v.data.abi,isLoading:v.isPlaceholderData})},_.length>0&&{id:["read_write_proxy","read_proxy","write_proxy"],title:"Read/Write proxy",component:(0,r.jsx)(aW,{implementations:_,isLoading:v.isPlaceholderData,proxyType:null===(a=v.data)||void 0===a?void 0:a.proxy_type})},s.A.features.account.isEnabled&&{id:["read_write_custom_methods","read_custom_methods","write_custom_methods"],title:"Custom ABI",component:(0,r.jsx)(aF,{isLoading:v.isPlaceholderData})},m&&{id:"mud_system",title:"MUD System",component:y.isPlaceholderData?(0,r.jsx)(ef.A,{}):(0,r.jsx)(aO,{items:null!==(i=null===(n=y.data)||void 0===n?void 0:n.items)&&void 0!==i?i:[]})}].filter(Boolean),isLoading:v.isPlaceholderData}},[null==e?void 0:e.hash,v,j,_,m,y.isPlaceholderData,null===(u=y.data)||void 0===u?void 0:u.items])}},86561:(e,t,a)=>{a.d(t,{DK:()=>r,a$:()=>n});let r=["contract_source_code","contract_compiler","contract_abi","contract_bytecode"],n=["contract_code","read_contract","write_contract","read_write_contract","read_proxy","write_proxy","read_write_proxy","read_custom_methods","write_custom_methods","read_write_custom_methods","mud_system"].concat(r)},44401:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(74848),n=a(11692),i=a(85771),s=a(65269);let o=a(96540).memo((0,s.B)(e=>{let{tags:t,className:a}=e,s=null==t?void 0:t.filter(e=>{let{tagType:t}=e;return"note"===t}).filter(e=>{let{meta:t}=e;return null==t?void 0:t.data});return(null==s?void 0:s.length)?(0,r.jsx)(n.s,{flexDir:"column",gap:3,className:a,children:s.map(e=>{var t,a,n,s,o,l;return(0,r.jsx)(i.F,{status:null!==(o=null===(t=e.meta)||void 0===t?void 0:t.alertStatus)&&void 0!==o?o:"error",bgColor:null===(a=e.meta)||void 0===a?void 0:a.alertBgColor,color:null===(n=e.meta)||void 0===n?void 0:n.alertTextColor,whiteSpace:"pre-wrap",display:"inline-block",sx:{"& a":{color:"link",_hover:{color:"link_hovered"}}},dangerouslySetInnerHTML:{__html:null!==(l=null===(s=e.meta)||void 0===s?void 0:s.data)&&void 0!==l?l:""}},e.name)})}):null}))},54873:(e,t,a)=>{a.d(t,{A:()=>b});var r=a(74848),n=a(96540),i=a(2115),s=a(62539),o=a(38495),l=a(97665),c=a(82309),d=a(49785),u=a(86554),m=a(36865),h=a(73214),p=a(91826),g=a(4305);let x=n.memo(e=>{let{data:t,onClose:a,onSuccess:i,setAlertVisible:x}=e,b=(0,d.mN)({defaultValues:{contract_address_hash:(null==t?void 0:t.contract_address_hash)||"",name:(null==t?void 0:t.name)||"",abi:t&&"abi"in t?JSON.stringify(t.abi):""},mode:"onTouched"}),f=(0,l.jE)(),v=(0,m.A)(),{mutateAsync:y,isPending:j}=(0,c.n)({mutationFn:e=>{let t={name:e.name,contract_address_hash:e.contract_address_hash,abi:e.abi};return e.id?v("custom_abi",{pathParams:{id:String(e.id)},fetchParams:{method:"PUT",body:t}}):v("custom_abi",{fetchParams:{method:"POST",body:t}})},onSuccess:async e=>{f.setQueryData([(0,u.ik)("custom_abi")],t=>t&&t.some(t=>t.id===e.id)?t.map(t=>t.id===e.id?e:t):[e,...t||[]]),await (null==i?void 0:i()),a()},onError:e=>{var t;let a=null===(t=e.payload)||void 0===t?void 0:t.errors;(null==a?void 0:a.address_hash)||(null==a?void 0:a.name)||(null==a?void 0:a.abi)?((null==a?void 0:a.address_hash)&&b.setError("contract_address_hash",{type:"custom",message:(0,h.A)(a,"address_hash")}),(null==a?void 0:a.name)&&b.setError("name",{type:"custom",message:(0,h.A)(a,"name")}),(null==a?void 0:a.abi)&&b.setError("abi",{type:"custom",message:(0,h.A)(a,"abi")})):(null==a?void 0:a.identity_id)?b.setError("contract_address_hash",{type:"custom",message:(0,h.A)(a,"identity_id")}):x(!0)}}),_=(0,n.useCallback)(async e=>{x(!1);let a=t&&"id"in t?String(t.id):void 0;await y({...e,id:a})},[y,t,x]);return(0,r.jsx)(d.Op,{...b,children:(0,r.jsxs)("form",{noValidate:!0,onSubmit:b.handleSubmit(_),children:[(0,r.jsx)(p.A,{name:"contract_address_hash",placeholder:"Smart contract address (0x...)",isRequired:!0,bgColor:"dialog_bg",isReadOnly:!!(t&&"contract_address_hash"in t),mb:5}),(0,r.jsx)(g.A,{name:"name",placeholder:"Project name",isRequired:!0,rules:{maxLength:255},bgColor:"dialog_bg",mb:5}),(0,r.jsx)(g.A,{name:"abi",placeholder:"Custom ABI [{...}] (JSON format)",isRequired:!0,asComponent:"Textarea",bgColor:"dialog_bg",size:"lg",minH:"300px",mb:8}),(0,r.jsx)(s.az,{children:(0,r.jsx)(o.$,{size:"lg",type:"submit",isDisabled:!b.formState.isDirty,isLoading:j,children:t&&"id"in t?"Save":"Create custom ABI"})})]})})}),b=n.memo(e=>{let{isOpen:t,onClose:a,data:s,onSuccess:o}=e,l=s&&"id"in s?"Edit custom ABI":"New custom ABI",c=s&&"id"in s?"":"Double check the ABI matches the contract to prevent errors or incorrect results.",[d,u]=(0,n.useState)(!1),m=(0,n.useCallback)(()=>(0,r.jsx)(x,{data:s,onClose:a,onSuccess:o,setAlertVisible:u}),[s,a,o]);return(0,r.jsx)(i.A,{isOpen:t,onClose:a,title:l,text:c,renderForm:m,isAlertVisible:d,setAlertVisible:u})})},4620:(e,t,a)=>{a.d(t,{A:()=>r});function r(e){return[...((null==e?void 0:e.private_tags)||[]).map(e=>({slug:e.label,name:e.display_name,tagType:"private_tag",ordinal:1e3})),...((null==e?void 0:e.watchlist_names)||[]).map(e=>({slug:e.label,name:e.display_name,tagType:"watchlist",ordinal:1e3}))]}},49551:(e,t,a)=>{a.d(t,{A:()=>r});function r(e,t){return e.ordinal<t.ordinal?1:e.ordinal>t.ordinal?-1:0}},28196:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(74848),n=a(48996),i=a(78865),s=a(11692);a(96540);var o=a(78117);let l=e=>{let{onClick:t}=e,a=(0,n.dU)("blue.600","blue.300"),l=(0,n.dU)("blue.400","blue.200");return(0,r.jsx)(i.m,{label:"Reset filter",children:(0,r.jsx)(s.s,{children:(0,r.jsx)(o.A,{name:"cross",boxSize:5,ml:1,color:a,cursor:"pointer",_hover:{color:l},onClick:t})})})}},50128:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(74848),n=a(48996),i=a(62849),s=a(90727),o=a(62346),l=a(65269),c=a(96540),d=a(25366),u=a(57049),m=a(78117);let h=(0,l.B)(e=>{let{onChange:t,className:a,size:l="sm",placeholder:h,initialValue:p,isLoading:g,type:x,name:b}=e,[f,v]=(0,c.useState)(p||""),y=c.useRef(null),j=(0,n.dU)("blackAlpha.600","whiteAlpha.600"),_=(0,c.useCallback)(e=>{let{value:a}=e.target;v(a),null==t||t(a)},[t]),k=(0,c.useCallback)(()=>{var e;v(""),null==t||t(""),null==y||null===(e=y.current)||void 0===e||e.focus()},[t]);return(0,r.jsx)(d.A,{isLoaded:!g,className:a,minW:"250px",borderRadius:"base",children:(0,r.jsxs)(i.M,{size:l,children:[(0,r.jsx)(s.W,{pointerEvents:"none",children:(0,r.jsx)(m.A,{name:"search",color:j,boxSize:4})}),(0,r.jsx)(o.p,{ref:y,size:l,value:f,onChange:_,placeholder:h,borderWidth:"2px",textOverflow:"ellipsis",whiteSpace:"nowrap",type:x,name:b}),f?(0,r.jsx)(s.t,{children:(0,r.jsx)(u.A,{onClick:k})}):null]})})})},26861:(e,t,a)=>{a.d(t,{A:()=>g});var r=a(74848),n=a(96540),i=a(86945),s=a(38495),o=a(11692),l=a(45437),c=a(5687),d=a(65269),u=a(25366),m=a(78117);let h=e=>{let{getInputProps:t,getRadioProps:a}=(0,i.z)(e),n=t(),l=a();return e.onlyIcon?(0,r.jsxs)(s.$,{as:"label","aria-label":e.title,variant:"radio_group","data-selected":e.isChecked,children:[(0,r.jsx)("input",{...n}),(0,r.jsx)(o.s,{...l,children:(0,r.jsx)(m.A,{name:e.icon,boxSize:5})})]}):(0,r.jsxs)(s.$,{as:"label",leftIcon:e.icon?(0,r.jsx)(m.A,{name:e.icon,boxSize:5,mr:-1}):void 0,variant:"radio_group","data-selected":e.isChecked,children:[(0,r.jsx)("input",{...n}),(0,r.jsxs)(o.s,{alignItems:"center",...l,children:[e.title,e.contentAfter]})]})},p=(0,d.B)(e=>{let{onChange:t,name:a,defaultValue:i,options:s,autoWidth:o=!1,className:d,isLoading:m}=e,{getRootProps:p,getRadioProps:g}=(0,l.m)({name:a,defaultValue:i,onChange:t}),x=p();return(0,r.jsx)(u.A,{isLoaded:!m,children:(0,r.jsx)(c.e,{...x,className:d,isAttached:!0,size:"sm",display:"grid",gridTemplateColumns:"repeat(".concat(s.length,", ").concat(o?"auto":"1fr",")"),children:s.map(e=>{let t=g({value:e.value});return(0,n.createElement)(h,{...t,key:e.value,...e})})})})}),g=n.memo(p)}}]);
//# sourceMappingURL=3763-96cdee656fdea205.js.map