"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3013],{86735:(e,a,l)=>{l.d(a,{A:()=>s});function s(e){return e&&e.length?e.charAt(0).toUpperCase()+e.slice(1):""}},53013:(e,a,l)=>{l.r(a),l.d(a,{default:()=>M});var s=l(74848),i=l(46378),t=l(74458),r=l(57930),d=l(62539),n=l(86715),o=l(96540),c=l(24161),u=l(89783),x=l(10600),h=l(85665),v=l(20900),b=l(12414),j=l(38659),m=l(94448),A=l(56221),g=l(49169),p=l(86296),f=l(32060),k=l(48712),y=l(38352);let _=[{label:"Default",value:void 0},{label:"Status descending",value:"state-desc"},{label:"Status ascending",value:"state-asc"},{label:"Blocks validated descending",value:"blocks_validated-desc"},{label:"Blocks validated ascending",value:"blocks_validated-asc"}],L={state:["state-desc","state-asc",void 0],blocks_validated:["blocks_validated-desc","blocks_validated-asc",void 0]};var w=l(8753),S=l(74239);let C=o.memo(()=>{let e=(0,w.A)("validators_stability_counters",{queryOptions:{enabled:c.A.features.validators.isEnabled,placeholderData:b.EA}});return e.data?(0,s.jsxs)(d.az,{columnGap:3,rowGap:3,mb:6,display:"grid",gridTemplateColumns:{base:"1fr",lg:"repeat(2, 1fr)"},children:[(0,s.jsx)(S.A,{label:"Total validators",value:Number(e.data.validators_counter).toLocaleString(),diff:Number(e.data.new_validators_counter_24h).toLocaleString(),isLoading:e.isPlaceholderData}),(0,s.jsx)(S.A,{label:"Active validators",value:"".concat(Number(e.data.active_validators_percentage).toLocaleString(),"%"),isLoading:e.isPlaceholderData})]}):null});var N=l(45214);let T=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"probation",label:"Probation"},{value:"inactive",label:"Inactive"}],z=o.memo(e=>{let{onChange:a,defaultValue:l,hasActiveFilter:i}=e;return(0,s.jsx)(N.A,{name:"validators_filter",options:T,onChange:a,hasActiveFilter:i,defaultValue:l||T[0].value})});var F=l(25366),V=l(98669),E=l(70971),B=l(51491);let R=o.memo(e=>{let{state:a,isLoading:l}=e;switch(a){case"active":return(0,s.jsx)(B.A,{type:"ok",text:"Active",isLoading:l});case"probation":return(0,s.jsx)(B.A,{type:"pending",text:"Probation",isLoading:l});case"inactive":return(0,s.jsx)(B.A,{type:"error",text:"Inactive",isLoading:l})}}),D=o.memo(e=>{let{data:a,isLoading:l}=e;return(0,s.jsxs)(E.A.Container,{children:[(0,s.jsx)(E.A.Label,{isLoading:l,children:"Address"}),(0,s.jsx)(E.A.Value,{children:(0,s.jsx)(V.Ay,{isLoading:l,address:a.address,truncation:"constant"})}),(0,s.jsx)(E.A.Label,{isLoading:l,children:"Status"}),(0,s.jsx)(E.A.Value,{children:(0,s.jsx)(R,{state:a.state,isLoading:l})}),(0,s.jsx)(E.A.Label,{isLoading:l,children:"Blocks"}),(0,s.jsx)(E.A.Value,{children:(0,s.jsx)(F.A,{isLoaded:!l,display:"inline-block",children:a.blocks_validated_count.toLocaleString()})})]})}),I=o.memo(e=>{let{data:a,isLoading:l}=e;return(0,s.jsx)(d.az,{children:a.map((e,a)=>(0,s.jsx)(D,{data:e,isLoading:l},e.address.hash+(l?a:"")))})});var P=l(88993),q=l(22629),G=l(36671),U=l(14320),W=l(10875),$=l(78117),X=l(66537),O=l(27693),H=l(97324);let J=o.memo(e=>{let{data:a,isLoading:l}=e;return(0,s.jsxs)(q.Tr,{children:[(0,s.jsx)(H.Td,{verticalAlign:"middle",children:(0,s.jsx)(V.Ay,{address:a.address,isLoading:l,truncation:"constant"})}),(0,s.jsx)(H.Td,{verticalAlign:"middle",children:(0,s.jsx)(R,{state:a.state,isLoading:l})}),(0,s.jsx)(H.Td,{verticalAlign:"middle",isNumeric:!0,children:(0,s.jsx)(F.A,{isLoaded:!l,display:"inline-block",children:a.blocks_validated_count.toLocaleString()})})]})}),K=o.memo(e=>{let{data:a,sort:l,setSorting:i,isLoading:t}=e,r=(null==l?void 0:l.includes("asc"))?"rotate(-90deg)":"rotate(90deg)",d=o.useCallback(e=>()=>{i((0,X.Ay)(L,e)(l))},[l,i]);return(0,s.jsxs)(P.X,{children:[(0,s.jsx)(O.A,{top:j.i$,children:(0,s.jsxs)(q.Tr,{children:[(0,s.jsx)(G.Th,{width:"50%",children:"Validatorâ€™s address"}),(0,s.jsx)(G.Th,{width:"25%",children:(0,s.jsxs)(U.N,{display:"flex",alignItems:"center",onClick:t?void 0:d("state"),columnGap:1,children:[(null==l?void 0:l.includes("state"))&&(0,s.jsx)($.A,{name:"arrows/east",boxSize:4,transform:r}),"Status"]})}),(0,s.jsx)(G.Th,{width:"25%",isNumeric:!0,children:(0,s.jsxs)(U.N,{display:"flex",alignItems:"center",justifyContent:"flex-end",onClick:t?void 0:d("blocks_validated"),columnGap:1,children:[(null==l?void 0:l.includes("blocks_validated"))&&(0,s.jsx)($.A,{name:"arrows/east",boxSize:4,transform:r}),"Blocks"]})})]})}),(0,s.jsx)(W.N,{children:a.map((e,a)=>(0,s.jsx)(J,{data:e,isLoading:t},e.address.hash+(t?a:"")))})]})}),M=()=>{let e=(0,n.useRouter)(),[a,l]=o.useState((0,h.A)(e.query.state_filter)||void 0),[L,w]=o.useState((0,k.A)(e.query,_)),S=(0,u.A)(),{isError:N,isPlaceholderData:T,data:F,pagination:V,onFilterChange:E,onSortingChange:B}=(0,p.A)({resourceName:"validators_stability",filters:{state_filter:a},sorting:(0,f.A)(L),options:{enabled:c.A.features.validators.isEnabled,placeholderData:(0,v.k)(b.$X,50,{next_page_params:null})}}),R=o.useCallback(e=>{if(Array.isArray(e))return;let a="all"===e?void 0:e;E({state_filter:a}),l(a)},[E]),D=o.useCallback(e=>{w(e),B((0,f.A)(e))},[B]),P=(0,s.jsx)(z,{onChange:R,defaultValue:a,hasActiveFilter:!!a}),q=(0,s.jsx)(y.A,{name:"validators_sorting",defaultValue:L,options:_,onChange:D}),G=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.z,{spacing:3,mb:6,display:{base:"flex",lg:"none"},children:[P,q]}),(!S||V.isVisible)&&(0,s.jsxs)(j.Ay,{mt:-6,children:[(0,s.jsx)(i.z,{spacing:3,display:{base:"none",lg:"flex"},children:P}),(0,s.jsx)(g.A,{ml:"auto",...V})]})]}),U=(null==F?void 0:F.items)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.w,{below:"lg",ssr:!1,children:(0,s.jsx)(I,{data:F.items,isLoading:T})}),(0,s.jsx)(r.L,{below:"lg",ssr:!1,children:(0,s.jsx)(K,{data:F.items,sort:L,setSorting:D,isLoading:T})})]}):null;return(0,s.jsxs)(d.az,{children:[(0,s.jsx)(A.A,{title:"Validators",withTextAd:!0}),(0,s.jsx)(C,{}),(0,s.jsx)(m.A,{isError:N,items:null==F?void 0:F.items,emptyText:"There are no validators.",filterProps:{emptyFilteredText:"Couldn".concat(x.wA,"t find any validator that matches your query."),hasActiveFilters:!!a},content:U,actionBar:G})]})}},83591:(e,a,l)=>{l.d(a,{A:()=>n});var s=l(74848),i=l(79706),t=l(96540),r=l(25366),d=l(96376);let n=t.memo(t.forwardRef((e,a)=>{let{isLoading:l,...t}=e;return t.isTruncated&&"string"==typeof t.children?t.children?(0,s.jsx)(r.A,{isLoaded:!l,display:"inline-block",borderRadius:"12px",maxW:"100%",children:(0,s.jsx)(d.A,{label:t.children,children:(0,s.jsx)(i.vw,{...t,ref:a})})}):null:(0,s.jsx)(r.A,{isLoaded:!l,display:"inline-block",borderRadius:"12px",maxW:"100%",children:(0,s.jsx)(i.vw,{...t,ref:a})})}))},12654:(e,a,l)=>{l.d(a,{A:()=>u});var s=l(74848),i=l(48996),t=l(62539),r=l(38495),d=l(96540),n=l(25366),o=l(78117);let c=(0,s.jsx)(o.A,{name:"filter",boxSize:5,mr:{base:0,lg:2}}),u=d.forwardRef((e,a)=>{let{isActive:l,isLoading:d,appliedFiltersNum:o,onClick:u,as:x}=e,h=(0,i.dU)("white","black"),v=(0,i.dU)("blue.700","gray.50");if(d)return(0,s.jsx)(n.A,{w:{base:9,lg:"78px"},h:8,borderRadius:"base",flexShrink:0});let b=(0,s.jsx)(t.jl,{className:"AppliedFiltersNum",bg:l?"link_hovered":v,size:5,color:h,children:o});return(0,s.jsxs)(r.$,{ref:a,rightIcon:o?b:void 0,size:"sm",fontWeight:"500",variant:"outline",colorScheme:"gray",onClick:u,isActive:l,"data-selected":!!o,px:1.5,flexShrink:0,as:x,pointerEvents:"all",_hover:l?{color:"link_hovered",".AppliedFiltersNum":{bg:"link_hovered"}}:void 0,children:[c,(0,s.jsx)(t.az,{display:{base:"none",lg:"block"},children:"Filter"})]})})},45214:(e,a,l)=>{l.d(a,{A:()=>d});var s=l(74848),i=l(96540),t=l(12654),r=l(52477);let d=i.memo(e=>{let{name:a,hasActiveFilter:l,options:i,isLoading:d,onChange:n,defaultValue:o}=e;return(0,s.jsx)(r.A,{options:i,name:a,defaultValue:o,onChange:n,children:e=>{let{isOpen:a,onToggle:i}=e;return(0,s.jsx)(t.A,{isActive:a,onClick:i,appliedFiltersNum:l?1:0,isLoading:d})}})})},51491:(e,a,l)=>{l.d(a,{A:()=>o});var s=l(74848),i=l(78865),t=l(79706),r=l(65269);l(96540);var d=l(86735),n=l(83591);let o=(0,r.B)(e=>{let a,{type:l,text:r,errorText:o,isLoading:c,className:u}=e,x=(0,d.A)(r);switch(l){case"ok":a="green";break;case"error":a="red";break;case"pending":a="gray"}return(0,s.jsx)(i.m,{label:o,children:(0,s.jsx)(n.A,{colorScheme:a,display:"flex",px:"8px",isLoading:c,className:u,children:(0,s.jsx)(t.d1,{display:"block",fontSize:"12px",children:x})})})})}}]);
//# sourceMappingURL=3013.bfab6f561c38570c.js.map